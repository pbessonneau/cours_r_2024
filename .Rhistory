knitr::opts_chunk$set(echo = TRUE)
require(tidyverse)
parcours <- read_excel("fr-esr-parcoursup.xlsx")
library(readxl)
parcours <- read_excel("fr-esr-parcoursup.xlsx")
knitr::opts_chunk$set(echo = TRUE)
summary(mtcars)
str(mtcars)
data(mtcars)
force(mtcars)
View(mtcars)
str(mtcars)
data(iris)
force(iris)
View(iris)
str(iris[,"Sepal.Length"])
str(iris)
iris[,"Species"]
table(iris[,"Species"])
str(iris[,"Species"])
table(iris[,"Species"])
"Species"
iris[,"Species"]
"Species"
c("Petal.Length","Petal.Width")
iris[,c("Petal.Length","Petal.Width")]
iris[,nom.petale]
nom.petale <- c("Petal.Length","Petal.Width")
iris[,nom.petale]
mon.iris <- iris[,nom.petale]
mon.iris
str(iris)
iris[,c(3,4)]
iris[,c(FALSE,FALSE,TRUE,TRUE,FALSE)]
iris[,"Species"]
iris[,"Species"]=="setosa"
str(iris)
iris[,"Species"]=="setosa"
setosa <- iris[iris[,"Species"]=="setosa",]
str(setosa)
iris[iris[,"Species"]=="setosb",]
iris$Species <- as.character(iris$Species)
setosa[34,"Species"] <- "setosb"
iris$Species2 <- as.character(iris$Species)
iris[34,"Species"] <- "setosb"
table(iris$Species)
iris[iris[,"Species"]=="setosb","Species"] <- "setosa"
table(iris$Species)
iris[34,"Species"] <- "setosb"
table(iris$Species)
iris[,"Species"]=="setosb"
iris[iris[,"Species"]=="setosb","Species"] <- "setosa"
table(iris$Species)
iris$Species
iris$Species == iris[,"Species"]
iris[34,"Species"]
iris$Species[34]
mean(iris[iris[,"Species"]=="setosa","Sepal.Length"])
mean(iris[iris[,"versicolor"]=="setosa","Sepal.Length"])
mean(iris[iris[,"Species"]=="versicolor","Sepal.Length"])
library(tidyverse)
iris |> filter(Species=="setosa")
iris |> summarise(m=mean(Sepal.Length))
iris |> summarise(moyenne=mean(Sepal.Length))
iris |> filter(Species=="setosa") |> summarise(moyenne=mean(Sepal.Length))
iris |> group_by(Species) |> summarise(moyenne=mean(Sepal.Length))
iris |> group_by(Species) |> summarise(moy.Sepal.Length=mean(Sepal.Length),ec=sd(Sepal.Length))
quantile(iris[,"Sepal.Length"])
iris |> group_by(Species) |> summarise(moy.Sepal.Length=mean(Sepal.Length),ec=sd(Sepal.Length),quantile=quantile(Sepal.Length))
iris |> group_by(Species) |> summarise(moy.Sepal.Length=mean(Sepal.Length),ec=sd(Sepal.Length),mediane=quantile(Sepal.Length,probs=0.5))
iris |> group_by(Species) |> summarise(moy.Sepal.Length=mean(Sepal.Length),ec=sd(Sepal.Length),mediane=quantile(Sepal.Length,probs=0.5),q90=quantile(Sepal.Length,probs=0.9))
iris |> group_by(Species) |> summarise(across(Sepal.Length:Petal.Width,mean))
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
library(readxl)
parcours <- read_excel("fr-esr-parcoursup.xlsx")
str(parcours)
knitr::opts_chunk$set(echo = TRUE)
library(readxl)
patient.sav <- read_sav("data/patient.sav")
require(haven)
patient.sav <- read_sav("data/patient.sav")
patient <- read_sav("data/patient.sav")
patient
read_csv
library(readr)
patient <- read_csv("data/patient.csv")
patient
table(patient$scoliose)
?readr
?readr
parse_double(c("1.56", "NA", "NA"))
str(parse_double(c("1.56", "NA", "NA")))
str(parse_double(c("1.56", "NR", "NR")))
str(parse_double(c("1.56", "NA", "NA"),na = "NR"))
str(parse_double(c("1.56", "NA", "NA"),na = "NR"))
str(parse_double(c("1.56", "NA", "NA")))
str(parse_double(c("1,56", "NA", "NA")))
table(mtcars$cyl)
a <- list(iris,c(1,2,3),LETTERS,mtcars[,c("cyl","mpg")])
str(a)
knitr::opts_chunk$set(echo = TRUE)
library(readxl)
library(gtsummary)
library(gtsummary)
tbl_continuous(mtcars)
tbl_summary(mtcars)
tbl_summary(iris)
tbl_summary(iris,by="Species")
tbl_summary(iris,by="Species" ) %>% add_p()
tbl_cross(mtcars$cyl,mtcars$gear)
tbl_cross
?tbl_cross
tbl_cross_ex2 <-
trial %>%
tbl_cross(row = stage, col = trt, percent = "cell") %>%
add_p() %>%
bold_labels()
trial %>%
tbl_cross(row = stage, col = trt, percent = "cell") %>%
add_p() %>%
bold_labels()
patient <- read_csv("patient.csv")
patient <- read_csv("data/patient.csv")
patient %>%
tbl_cross(row = Hopital, col = Sexe, percent = "col") %>%
add_p() %>%
bold_labels()
patient %>%
tbl_cross(row = Hopital, col = sexe, percent = "col") %>%
add_p() %>%
bold_labels()
theme_gtsummary_compact(set_theme = TRUE, font_size = NULL)
gt_table %>%
gtsummary::as_tibble() %>%
writexl::write_xlsx(., "example_gtsummary1.xlsx")
iris %>% tbl_summary(by=Species) %>%
gtsummary::as_tibble() %>%
writexl::write_xlsx(., "example_gtsummary1.xlsx")
iris %>% tbl_summary(by=Species) %>%
gtsummary::as_gt() %>%
gt::gtsave(., "example_gtsummary3.rtf")
lm(totalechelle~Hopital+sexe+vitaux+dureeopmin)
tbl_regression(
lm(totalechelle~sexe+vitaux+dureeopmin,data=patient[patient$Hopital=="A",]),
lm(totalechelle~sexe+vitaux+dureeopmin,data=patient[patient$Hopital=="B",])
)
lm(totalechelle~sexe+vitaux+dureeopmin,data=patient[patient$Hopital=="B",])
tbl_regression(
lm(totalechelle~sexe+vitaux+dureeopmin,data=patient[patient$Hopital=="A",])
),
?tbl_regression
tbl_merge(
tbl_regression(
lm(totalechelle~sexe+vitaux+dureeopmin,data=patient[patient$Hopital=="A",])
),
tbl_regression(
lm(totalechelle~sexe+vitaux+dureeopmin,data=patient[patient$Hopital=="B",])
)
)
tbl_merge(list(
tbl_regression(
lm(totalechelle~sexe+vitaux+dureeopmin,data=patient[patient$Hopital=="A",])
),
tbl_regression(
lm(totalechelle~sexe+vitaux+dureeopmin,data=patient[patient$Hopital=="B",])
))
)
knitr::opts_chunk$set(echo = TRUE)
library(readxl)
library(readr)
patient <- read_csv("data/patient.csv")
iris %>% tbl_summary(by=Species) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test")
)
knitr::opts_chunk$set(echo = TRUE)
library(readxl)
library(readr)
patient <- read_csv("data/patient.csv")
library(gtsummary)
tbl_summary(mtcars)
tbl_summary(iris)
tbl_summary(iris,by="Species")
tbl_summary(iris,by="Species" ) %>% add_p()
trial %>%
tbl_cross(row = stage, col = trt, percent = "cell") %>%
add_p() %>%
bold_labels()
patient %>%
tbl_cross(row = Hopital, col = sexe, percent = "col") %>%
add_p() %>%
bold_labels()
theme_gtsummary_compact(set_theme = TRUE, font_size = NULL)
patient %>%
tbl_cross(row = Hopital, col = sexe, percent = "col") %>%
add_p() %>%
bold_labels()
reset_gtsummary_theme()
iris %>% tbl_summary(by=Species) %>%
gtsummary::as_tibble() %>%
writexl::write_xlsx(., "example_gtsummary1.xlsx")
iris %>% tbl_summary(by=Species) %>%
gtsummary::as_gt() %>%
gt::gtsave(., "example_gtsummary3.rtf")
tbl_merge(list(
tbl_regression(
lm(totalechelle~sexe+vitaux+dureeopmin,data=patient[patient$Hopital=="A",])
),
tbl_regression(
lm(totalechelle~sexe+vitaux+dureeopmin,data=patient[patient$Hopital=="B",])
))
)
iris %>% tbl_summary(by=Species) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test")
)
iris %>% tbl_summary(by=Species) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test"),
test.args = all_tests("t.test") ~ list(var.equal = TRUE)
)
?aov
iris %>% tbl_summary(by=Species) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test"),
test.args = all_tests("aov") ~ list(var.equal = TRUE)
)
iris %>% tbl_summary(by=Species) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test")
)
iris %>% tbl_summary(by=Species,
statistic = list(all_continuous() ~ "{mean} ({sd}) {min} {p10} {p50} {p90} {max}")
) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test")
)
iris %>% tbl_summary(by=Species,
statistic = list(all_continuous() ~ "{median} ({p25}, {p75})", "{min}, {max}")
) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test")
)
iris %>% tbl_summary(by=Species,
statistic = list(all_continuous() ~ "{median} ({p25}, {p75})", "{min}, {max}")
) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test")
)
iris %>% tbl_summary(by=Species,
statistic = list(all_continuous() ~ "{median} ({p25}, {p75})", "{min}, {max}")
) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test")
)
iris %>% tbl_summary(by=Species,
statistic = all_continuous() ~ "{median} ({p25}, {p75})", "{min}, {max}"
) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test")
)
iris %>% tbl_summary(by=Species,
statistic = all_continuous() ~ "{median} ({p25}, {p75})", "{min}, {max}"
) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test")
)
iris %>% tbl_summary(by=Species,
statistic = all_continuous() ~ c("{median} ({p25}, {p75})", "{min}, {max}")
) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test")
)
statistic = all_continuous() ~ c(""{median} ({p25}, {p75})", "{min}, {max}")
statistic = all_continuous() ~ c("{median} ({p25}, {p75}), {min}, {max})
iris %>% tbl_summary(by=Species,
statistic = all_continuous() ~ c("{median} ({p25}, {p75})", "{min}, {max}")
iris %>% tbl_summary(by=Species,
statistic = all_continuous() ~ c("{median} ({p25}, {p75})", "{min}, {max}")
) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test")
)
iris %>% tbl_summary(by=Species,
type = all_continuous() ~ "continuous2",
statistic = all_continuous() ~ c("{median} ({p25}, {p75})", "{min}, {max}")
) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test")
)
iris %>% tbl_summary(by=Species,
type = all_continuous() ~ "continuous2",
statistic = all_continuous() ~ c("{median} ({p25}, {p75})", "{p10}, {p90}")
) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test")
)
iris %>% tbl_summary(by=Species,
type = all_continuous() ~ "continuous2",
statistic = all_continuous() ~ c("{median} ({p25}, {p75})", "{min}, {max}")
) %>%
add_p(
list( all_continuous() ~ "aov", all_categorical() ~ "chisq.test")
)
library(gtsummary)
system.file(package = "gtsummary") %>%
file.path("rmarkdown_example/gtsummary_rmarkdown_html.Rmd") %>%
file.edit()
%>% gtsummary::::gtsave()
iris %>% tbl_summary(by=Species) %>% gtsummary::::gtsave()
iris %>% tbl_summary(by=Species) %>% gtsummary::gtsave()
iris %>% tbl_summary(by=Species) %>% gtsave()
require(gt)
iris %>% tbl_summary(by=Species) %>% gt::gtsave("example1.docx")
iris %>%
tbl_summary(by=Species) %>%
gtsummary::as_gt() %>%
gtsave("example1.docx")
iris %>%
tbl_summary(by=Species) %>%
gtsummary::as_gt() %>%
gtsave("example1.html")
knitr::opts_chunk$set(echo = FALSE)
require(tidyverse)
patient <- read_csv("patient.csv")
patient <- read_csv("data/patient.csv")
str(patient)
patient$Hopital <- factor(patient$Hopital)
patient$sexe <- factor(patient$sexe)
patient$CIM2 <- factor(patient$CIM2)
patient$ACP <- factor(patient$ACP,levels=c(0,1),labels=c("Non","Oui"))
patient$moyechelle <- patient$totalechelle / patient$nbechelle
patient$moyechelle
patient$moyechelle <- patient$totalechelle / patient$nbechelle
patient$scoliose
patient$scoliose[is.na(patient$scoliose)] <- "patient"Non
table(patient$scoliose)
patient$scoliose[is.na(patient$scoliose)] <- "Non"
table(patient$scoliose)
table(patient$nbttt-patient$nbttt)
table(patient$nbttt-patient$postopj)
hist(patient$nbttt-patient$postopj)
hist(patient$postopj-patient$nbttt)
patient %>% mutate(
factor(nbttt = case_when(
postopj-nbttt < 0 ~ "Inf à 0",
postopj-nbttt >= 0 & postopj-nbttt < 10 ~ "Entre 0 et 10",
postopj-nbttt >= 10 ~ "Sup à 10",
.default = NA
))
)
patient %>% mutate(
nbttt = factor(case_when(
postopj-nbttt < 0 ~ "Inf à 0",
postopj-nbttt >= 0 & postopj-nbttt < 10 ~ "Entre 0 et 10",
postopj-nbttt >= 10 ~ "Sup à 10",
.default = NA
)))
knitr::opts_chunk$set(echo = FALSE)
require(tidyverse)
patient <- read_csv("data/patient.csv")
str(patient)
patient$Hopital <- factor(patient$Hopital)
patient$sexe <- factor(patient$sexe)
patient$CIM2 <- factor(patient$CIM2)
patient$ACP <- factor(patient$ACP,levels=c(0,1),labels=c("Non","Oui"))
patient$scoliose[is.na(patient$scoliose)] <- "Non"
table(patient$scoliose)
patient$scoliose2 <- factor(ifelse(patient$scoliose=="Non","Non","Oui"))
patient$moyechelle <- patient$totalechelle / patient$nbechelle
hist(patient$postopj-patient$nbttt)
patient %>% mutate(
nbttopj = factor(case_when(
postopj-nbttt < 0 ~ "Inf à 0",
postopj-nbttt >= 0 & postopj-nbttt < 10 ~ "Entre 0 et 10",
postopj-nbttt >= 10 ~ "Sup à 10",
.default = NA
)))
summary(nbttopj)
summary(patient$nbttopj)
patient <- patient %>% mutate(
nbttopj = factor(case_when(
postopj-nbttt < 0 ~ "Inf à 0",
postopj-nbttt >= 0 & postopj-nbttt < 10 ~ "Entre 0 et 10",
postopj-nbttt >= 10 ~ "Sup à 10",
.default = NA
)))
summary(patient$nbttopj)
patient <- patient %>% mutate(
nbttopj = factor(case_when(
postopj-nbttt < 0 ~ "Inf à 0",
postopj-nbttt >= 0 & postopj-nbttt < 5 ~ "Entre 0 et 5",
postopj-nbttt >= 5 ~ "Sup à 5",
.default = NA
)))
summary(patient$nbttopj)
summary(patient$nbttt/patient$postopj)
hist(summary(patient$nbttt/patient$postopj))
patient <- patient %>% mutate(
nbttopj = factor(case_when(
postopj-nbttt > 0 ~ "Sup à 0",
postopj-nbttt <= 0 & postopj-nbttt > -10 ~ "Entre 0 et -10",
postopj-nbttt <= -10 ~ "Inf à -10",
.default = NA
)))
table(patient$postopj)
table(patient$nbttopj)
postopj-nbttt
knitr::opts_chunk$set(echo = FALSE)
require(tidyverse)
patient <- read_csv("data/patient.csv")
str(patient)
patient$Hopital <- factor(patient$Hopital)
patient$sexe <- factor(patient$sexe)
patient$CIM2 <- factor(patient$CIM2)
patient$ACP <- factor(patient$ACP,levels=c(0,1),labels=c("Non","Oui"))
patient$scoliose[is.na(patient$scoliose)] <- "Non"
table(patient$scoliose)
patient$scoliose2 <- factor(ifelse(patient$scoliose=="Non","Non","Oui"))
patient$moyechelle <- patient$totalechelle / patient$nbechelle
hist(patient$postopj-patient$nbttt)
patient <- patient %>% mutate(
nbttopj = factor(case_when(
postopj-nbttt > 0 ~ "Sup à 0",
postopj-nbttt <= 0 & postopj-nbttt > -10 ~ "Entre 0 et -10",
postopj-nbttt <= -10 ~ "Inf à -10",
.default = NA
)))
table(patient$nbttopj)
with(patient,table(postopj-nbttt))
patient <- patient %>% mutate(
nbttopj = factor(case_when(
postopj-nbttt > 0 ~ "Sup à 0",
postopj-nbttt <= 0 & postopj-nbttt > -5 ~ "Entre 0 et -5",
postopj-nbttt <= -5 ~ "Inf à -5",
.default = NA
)))
table(patient$nbttopj)
summary(patient$postopj-patient$nbttt)
