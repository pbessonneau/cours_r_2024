geom_label( aes(label="Hopital B"), color="#404080")
ggplot(tableau, aes(x=x) ) +
# Top
geom_density( aes(x = A, y = ..density..), fill="#69b3a2" ) +
geom_label( aes(label="Hopital A"), color="#69b3a2") +
# Bottom
geom_density( aes(x = B, y = -..density..), fill= "#404080") +
geom_label( aes(label="Hopital B"), color="#404080")
ggplot(tableau, aes(x=poids) ) +
# Top
geom_density( aes(x = A, y = ..density..), fill="#69b3a2" ) +
geom_label( aes(label="Hopital A"), color="#69b3a2") +
# Bottom
geom_density( aes(x = B, y = -..density..), fill= "#404080") +
geom_label( aes(label="Hopital B"), color="#404080")
tableau
tableau$poids <- ifelse(!is.na(patient$A),A,B)
tableau <- dcast(patient, UID + sexe ~ Hopital, value.var = "poids")
tableau <- dcast(patient, UID + sexe ~ Hopital, value.var = "poids")
tableau$poids <- ifelse(!is.na(patient$A),patient$A,patient$B)
tableau <- dcast(patient, UID + sexe ~ Hopital, value.var = "poids")
tableau$poids <- ifelse(!is.na(patient$A),patient$A,patient$B)
tableau <- dcast(patient, UID + sexe ~ Hopital, value.var = "poids")
tableau$poids <- ifelse(!is.na(tableau$A),tableau$A,tableau$B)
ggplot(tableau, aes(x=poids) ) +
# Top
geom_density( aes(x = A, y = ..density..), fill="#69b3a2" ) +
geom_label( aes(label="Hopital A"), color="#69b3a2") +
# Bottom
geom_density( aes(x = B, y = -..density..), fill= "#404080") +
geom_label( aes(label="Hopital B"), color="#404080")
ggplot(tableau, aes(x=poids) ) +
# Top
geom_density( aes(x = A, y = ..density..), fill="#69b3a2" ) +
geom_label( aes(label="Hopital A"), color="#69b3a2") +
# Bottom
geom_density( aes(x = B, y = -..density..), fill= "#404080") +
geom_label( aes(label="Hopital B"), color="#404080")
tableau
ggplot(tableau, aes(x=poids) ) +
# Top
geom_density( aes(x = A, y = ..density..), fill="#69b3a2" ) +
geom_label( aes(label="Hopital A"), color="#69b3a2") +
# Bottom
geom_density( aes(x = B, y = -..density..), fill= "#404080") +
geom_label( aes(label="Hopital B"), color="#404080")
ggplot(tableau, aes(x=poids,y=..density..) ) +
# Top
geom_density( aes(x = A, y = ..density..), fill="#69b3a2" ) +
geom_label( aes(label="Hopital A"), color="#69b3a2") +
# Bottom
geom_density( aes(x = B, y = -..density..), fill= "#404080") +
geom_label( aes(label="Hopital B"), color="#404080")
ggplot(tableau, aes(x=poids) )
ggplot(tableau, aes(x=poids) ) +
# Top
geom_density( aes(x = A, y = ..density..), fill="#69b3a2" ) +
geom_label( aes(label="Hopital A"), color="#69b3a2") +
# Bottom
geom_density( aes(x = B, y = -..density..), fill= "#404080") +
geom_label( aes(label="Hopital B"), color="#404080")
ggplot(tableau, aes(x=poids) ) +
# Top
geom_density( aes(x = A, y = ..density..,na.rm=T), fill="#69b3a2" ) +
geom_label( aes(label="Hopital A"), color="#69b3a2") +
# Bottom
geom_density( aes(x = B, y = -..density..,na.rm=T), fill= "#404080") +
geom_label( aes(label="Hopital B"), color="#404080")
ggplot(tableau, aes(x=poids) ) +
# Top
geom_density( aes(x = A, y = ..density..,na.rm=T), fill="#69b3a2" )
ggplot(tableau, aes(x=poids) ) +
# Top
geom_density( aes(x = A, y = ..density..,na.rm=T), fill="#69b3a2" ) +
geom_density( aes(x = B, y = -..density..,na.rm=T), fill= "#404080")
ggplot(tableau, aes(x=poids) ) +
# Top
geom_density( aes(x = A, y = ..density..,na.rm=T), fill="#69b3a2" ) +
geom_label( aes(label="Hopital A"), color="#69b3a2") +
geom_density( aes(x = B, y = -..density..,na.rm=T), fill= "#404080")
ggplot(tableau, aes(x=poids) ) +
# Top
geom_density( aes(x = A, y = ..density..,na.rm=T), fill="#69b3a2" ) +
geom_density( aes(x = B, y = -..density..,na.rm=T), fill= "#404080")
ggplot(tableau, aes(x=poids) ) +
# Top
geom_density( aes(x = A, y = ..density..), fill="#69b3a2" ) +
geom_density( aes(x = B, y = -..density..), fill= "#404080")
ggplot(tableau, aes(x=poids) ) +
# Top
geom_density( aes(x = A, y = ..density..), fill="#69b3a2" ) +
geom_label(aes(x=90, y=0.01, label="Hopital A"), color="#69b3a2") +
geom_density( aes(x = B, y = -..density..), fill= "#404080") +
geom_label(aes(x=90,y=-0.01, label="Hopital B"), color="#404080")
tableau <- dcast(patient, UID + sexe ~ Hopital, value.var = "dureeopmin")
tableau <- dcast(patient, UID + sexe ~ Hopital, value.var = "dureeopmin")
tableau$dureeopmin <- ifelse(!is.na(tableau$A),tableau$A,tableau$B)
ggplot(tableau, aes(x=dureeopmin) ) +
# Top
geom_density( aes(x = A, y = ..density..), fill="#69b3a2" ) +
geom_label(aes(x=90, y=0.01, label="Hopital A"), color="#69b3a2") +
geom_density( aes(x = B, y = -..density..), fill= "#404080") +
geom_label(aes(x=90,y=-0.01, label="Hopital B"), color="#404080")
tableau <- dcast(patient, UID + sexe ~ Hopital, value.var = "nbechelle")
tableau$poids <- ifelse(!is.na(tableau$A),tableau$A,tableau$B)
ggplot(tableau, aes(x=nbechelle) ) +
geom_density( aes(x = A, y = ..density..), fill="#69b3a2" ) +
geom_label(aes(x=90, y=0.01, label="Hopital A"), color="#69b3a2") +
geom_density( aes(x = B, y = -..density..), fill= "#404080") +
geom_label(aes(x=90,y=-0.01, label="Hopital B"), color="#404080")
bookdown::render_book("index.Rmd",output_format = "pdf")
bookdown::render_book("index.Rmd",output_format = "bookdown::pdf_book")
bookdown::render_book("index.Rmd",output_format = "bookdown::pdf_book")
bookdown::render_book("index.Rmd",output_format = "bookdown::pdf_book")
bookdown::render_book("index.Rmd",output_format = "bookdown::pdf_book")
bookdown::render_book("index.Rmd",output_format = "bookdown::pdf_book")
bookdown::render_book("index.Rmd",output_format = "bookdown::pdf_book")
bookdown::render_book()
iris %>% tbl_summary(by=Species,statistic = list(
all_continuous() ~ "{mean} ({sd}) {min} {max}"))
iris %>% tbl_summary(statistic = list(
all_continuous() ~ "{mean} ({sd}) {min} {max}",
all_categorical() ~ "{n} / {N} ({p}%)"))
iris %>% tbl_custom_summary(statistic = list(
all_continuous() ~ "{mean} ({sd}) {min} {max}",
all_categorical() ~ "{n} / {N} ({p}%)"))
iris %>% tbl_summary(statistic = list(
all_continuous() ~ "{mean} ({sd}) {min} {max}",
all_categorical() ~ "{n} / {N} ({p}%)")) %>%
modify_footnote(
all_continuous() ~ "Moyenne (EC) Min. Max.",
all_categorical() ~ "Effectif cellule / Total (%)"
)
iris %>% tbl_summary(statistic = list(
all_continuous() ~ "{mean} ({sd}) {min} {max}",
all_categorical() ~ "{n} / {N} ({p}%)")) %>%
modify_footnote(list(
all_categorical() ~ "Moyenne (EC) Min. Max.",
all_continuous() ~ "Effectif cellule / Total (%)"
))
iris %>% tbl_summary(statistic = list(
all_continuous() ~ "{mean} ({sd}) {min} {max}",
all_categorical() ~ "{n} / {N} ({p}%)"))
iris %>% tbl_summary(statistic = list(
all_continuous2() ~ c("{mean} ({sd})","{min} {max}"),
all_categorical() ~ "{n} / {N} ({p}%)")) %>%
modify_footnote(list(
all_continuous() ~ "Moyenne (EC) Min. Max.",
all_categorical() ~ "Effectif cellule / Total (%)"
))
iris %>% tbl_summary(statistic = list(
all_continuous2() ~ c("{mean} ({sd})","{min} {max}"),
all_categorical() ~ "{n} / {N} ({p}%)"))
iris %>% tbl_summary(statistic = list(
all_continuous2() ~ "{mean} ({sd}) {min} {max}",
all_categorical() ~ "{n} / {N} ({p}%)")) %>%
modify_footnote(
modify_footnote( all_stat_cols() ~ "Moyenne (EC) Min. Max.; Effectif cellule / Total (%)")
)
iris %>% tbl_summary(statistic = list(
all_continuous2() ~ "{mean} ({sd}) {min} {max}",
all_categorical() ~ "{n} / {N} ({p}%)")) %>%
modify_footnote( all_stat_cols() ~ "Moyenne (EC) Min. Max.; Effectif cellule / Total (%)")
iris %>% tbl_summary(statistic = list(
all_continuous2() ~ "{mean} ({sd}) {min} {max}",
all_categorical() ~ "{n} / {N} ({p}%)")) %>%
modify_footnote( all_stat_cols() ~ "Moyenne (EC) Min. Max.\n Effectif cellule / Total (%)")
;
iris %>% tbl_summary(statistic = list(
all_continuous2() ~ "{mean} ({sd}) {min} {max}",
all_categorical() ~ "{n} / {N} ({p}%)")) %>%
modify_footnote( all_stat_cols() ~ "Moyenne (EC) Min. Max.; Effectif cellule / Total (%)")
iris %>%
tbl_summary(
type = all_continuous() ~ "continuous2",
statistic = all_continuous() ~ c(
"{N_nonmiss}",
"{mean} ({sd})",
"{median} ({p25}, {p75})",
"{min}, {max}"
),
statistic = list(
all_continuous2() ~ "{mean} ({sd}) {min} {max}",
all_categorical() ~ "{n} / {N} ({p}%)"))
iris %>%
tbl_summary(
type = all_continuous() ~ "continuous2",
statistic = list(all_continuous() ~ c(
"{N_nonmiss}",
"{mean} ({sd})",
"{median} ({p25}, {p75})",
"{min}, {max}"
), all_categorical() ~ "{n} / {N} ({p}%)"))
theme_gtsummary_language(language = "fr", decimal.mark = ",", big.mark = " ")
iris %>%
tbl_summary(
type = all_continuous() ~ "continuous2",
statistic = list(all_continuous() ~ c(
"{N_nonmiss}",
"{mean} ({sd})",
"{median} ({p25}, {p75})",
"{min}, {max}"
), all_categorical() ~ "{n} / {N} ({p}%)"))
bookdown::render_book()
bookdown::render_book(output_format = "pdf")
?render_book
bookdown::render_book("index.Rmd", bookdown::pdf_book(toc = TRUE))
bookdown::render_book("index.Rmd", bookdown::pdf_book(toc = TRUE))
knitr::opts_chunk$set(echo = TRUE)
require(tidyverse)
patient <- read_csv("data/patient.csv")
hist(patient$poids)
hist(patient$poids,xlab="Poids",ylab="Effectifs")
hist(patient$poids,xlab="Poids",ylab="Effectifs",main="Poids des patients")
hist(patient$poids,xlab="Poids",ylab="Effectifs",main="Poids des patients",col="lightblue")
boxplot(patient$poids)
boxplot(patient$poids,ylab="Poids",main="Poids des patients")
boxplot(poids ~ CIM2, data = patient,ylab="Poids",main="Poids des patients en fonction du CIM2")
plot(patient$poids,patient$dureeopmin)
plot(patient$poids,patient$dureeopmin,xlab="Poids",ylab="Durée opération en minutes")
plot(dureeopmin ~ poids,data=patient,xlab="Poids",ylab="Durée opération en minutes")
coefficients <- lm(dureeopmin~poids,data=patient)
plot(patient$poids,patient$dureeopmin,xlab="Poids",ylab="Durée opération en minutes")
abline(coefficients)
coefficients <- lm(dureeopmin~poids,data=patient)
plot(patient$poids,patient$dureeopmin,xlab="Poids",ylab="Durée opération en minutes",
xlim=c(0,150),ylim=c(0,600))
abline(coefficients)
png("figure-1.png")
coefficients <- lm(dureeopmin~poids,data=patient)
plot(patient$poids,patient$dureeopmin,xlab="Poids",ylab="Durée opération en minutes",
xlim=c(0,150),ylim=c(0,600))
abline(coefficients)
dev.off()
tableau <- table(patient$sexe)
barplot(tableau, main = "CIM2", ylab = "Effectifs")
tableau <- table(patient$CIM2,patient$sexe)
barplot(tableau, main = "CIM2", ylab = "Effectifs")
library(ggplot2)
ggplot(patient)
ggplot(patient,aes(poids))
ggplot(patient,aes(poids))+geom_histogram()
ggplot(patient,aes(poids))+geom_histogram()+
scale_x_continuous(limits = c(0,150)) +
scale_y_continuous(limits = c(0,20))
ggplot(patient,aes(poids))+geom_histogram(bins=10)+
scale_x_continuous(limits = c(0,150))
ggplot(patient,aes(poids))+geom_histogram()+
scale_x_continuous(limits = c(0,150)) +
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Effectifs")
ggplot(patient,aes(poids))+geom_histogram(fill ="lightblue", colour = "black")+
scale_x_continuous(limits = c(0,150)) +
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Effectifs")
ggplot(patient,aes(poids,fill=sexe))+geom_histogram(color="black")+
scale_x_continuous(limits = c(0,150)) +
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Effectifs")
ggplot(patient,aes(poids,fill=sexe))+geom_histogram(color="black")+
scale_x_continuous(limits = c(0,150)) +
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Effectifs") +
facet_grid(sexe ~ .)
ggplot(patient,aes(poids))+geom_histogram(color="black")+
scale_x_continuous(limits = c(0,150)) +
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Effectifs") +
facet_grid(sexe ~ Hopital)
ggplot(patient,aes(poids))+geom_histogram(aes(y = ..density..),color="black")+
scale_x_continuous(limits = c(0,150)) +
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Densité") +
facet_grid(sexe ~ Hopital)
ggplot(patient,aes(x=poids,fill=sexe))+geom_boxplot()+
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Densité") +
facet_grid(Hopital ~ .)
ggplot(patient,aes(x=sexe,y=poids))+geom_boxplot()+
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Densité") +
facet_grid(Hopital ~ .)
ggplot(patient,aes(poids))+geom_boxplot()+
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Densité") +
facet_grid(sexe ~ Hopital)
ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+
ggtitle("Caractéristiques des patients") +
xlab("Poids") +
ylab("Durée de l'opération en minutes")
ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+
ggtitle("Caractéristiques des patients") +
xlab("Poids") +
ylab("Durée de l'opération en minutes") +
facet_grid(CIM2 ~ Hopital)
ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+
geom_line() +
ggtitle("Caractéristiques des patients") +
xlab("Poids") +
ylab("Durée de l'opération en minutes") +
facet_grid(CIM2 ~ Hopital)
ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+
geom_line(stat="lm") +
ggtitle("Caractéristiques des patients") +
xlab("Poids") +
ylab("Durée de l'opération en minutes") +
facet_grid(CIM2 ~ Hopital)
ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+
geom_smooth() +
ggtitle("Caractéristiques des patients") +
xlab("Poids") +
ylab("Durée de l'opération en minutes") +
facet_grid(CIM2 ~ Hopital)
ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+
geom_smooth(stat="lm") +
ggtitle("Caractéristiques des patients") +
xlab("Poids") +
ylab("Durée de l'opération en minutes") +
facet_grid(CIM2 ~ Hopital)
ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+
geom_smooth(method="lm") +
ggtitle("Caractéristiques des patients") +
xlab("Poids") +
ylab("Durée de l'opération en minutes") +
facet_grid(CIM2 ~ Hopital)
ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+
geom_smooth(se=FALSE) +
ggtitle("Caractéristiques des patients") +
xlab("Poids") +
ylab("Durée de l'opération en minutes") +
facet_grid(CIM2 ~ Hopital)
ggplot(patient,aes(x=dureeopmin,y=totalechelle))+geom_point(aes(col=sexe))+
geom_smooth(method="lm",se=FALSE) +
ggtitle("Total des échelles de douleur et durée opération") +
xlab("Durée de l'opération en minutes") +
ylab("Total des échelles de douleur") +
facet_grid(CIM2 ~ Hopital)
library(ggrepel)
knitr::opts_chunk$set(echo = TRUE)
require(tidyverse)
patient <- read_csv("data/patient.csv")
hist(patient$poids)
hist(patient$poids,xlab="Poids",ylab="Effectifs")
hist(patient$poids,xlab="Poids",ylab="Effectifs",main="Poids des patients")
hist(patient$poids,xlab="Poids",ylab="Effectifs",main="Poids des patients",col="lightblue")
boxplot(patient$poids)
boxplot(patient$poids,ylab="Poids",main="Poids des patients")
boxplot(poids ~ CIM2, data = patient,ylab="Poids",main="Poids des patients en fonction du CIM2")
plot(patient$poids,patient$dureeopmin)
plot(patient$poids,patient$dureeopmin,xlab="Poids",ylab="Durée opération en minutes")
plot(dureeopmin ~ poids,data=patient,xlab="Poids",ylab="Durée opération en minutes")
coefficients <- lm(dureeopmin~poids,data=patient)
plot(patient$poids,patient$dureeopmin,xlab="Poids",ylab="Durée opération en minutes")
abline(coefficients)
coefficients <- lm(dureeopmin~poids,data=patient)
plot(patient$poids,patient$dureeopmin,xlab="Poids",ylab="Durée opération en minutes",
xlim=c(0,150),ylim=c(0,600))
abline(coefficients)
png("figure-1.png")
coefficients <- lm(dureeopmin~poids,data=patient)
plot(patient$poids,patient$dureeopmin,xlab="Poids",ylab="Durée opération en minutes",
xlim=c(0,150),ylim=c(0,600))
abline(coefficients)
dev.off()
tableau <- table(patient$sexe)
barplot(tableau, main = "CIM2", ylab = "Effectifs")
tableau <- table(patient$CIM2,patient$sexe)
barplot(tableau, main = "CIM2", ylab = "Effectifs")
library(ggplot2)
ggplot(patient)
ggplot(patient,aes(poids))
ggplot(patient,aes(poids))+geom_histogram()
ggplot(patient,aes(poids))+geom_histogram()+
scale_x_continuous(limits = c(0,150)) +
scale_y_continuous(limits = c(0,20))
ggplot(patient,aes(poids))+geom_histogram(bins=10)+
scale_x_continuous(limits = c(0,150))
ggplot(patient,aes(poids))+geom_histogram()+
scale_x_continuous(limits = c(0,150)) +
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Effectifs")
ggplot(patient,aes(poids))+geom_histogram(fill ="lightblue", colour = "black")+
scale_x_continuous(limits = c(0,150)) +
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Effectifs")
ggplot(patient,aes(poids,fill=sexe))+geom_histogram(color="black")+
scale_x_continuous(limits = c(0,150)) +
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Effectifs")
ggplot(patient,aes(poids,fill=sexe))+geom_histogram(color="black")+
scale_x_continuous(limits = c(0,150)) +
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Effectifs") +
facet_grid(sexe ~ .)
ggplot(patient,aes(poids))+geom_histogram(color="black")+
scale_x_continuous(limits = c(0,150)) +
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Effectifs") +
facet_grid(sexe ~ Hopital)
ggplot(patient,aes(poids))+geom_histogram(aes(y = ..density..),color="black")+
scale_x_continuous(limits = c(0,150)) +
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Densité") +
facet_grid(sexe ~ Hopital)
ggplot(patient,aes(x=poids,fill=sexe))+geom_boxplot()+
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Densité") +
facet_grid(Hopital ~ .)
ggplot(patient,aes(x=sexe,y=poids))+geom_boxplot()+
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Densité") +
facet_grid(Hopital ~ .)
ggplot(patient,aes(poids))+geom_boxplot()+
ggtitle("Poids des patients") +
xlab("Poids") +
ylab("Densité") +
facet_grid(sexe ~ Hopital)
ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+
ggtitle("Caractéristiques des patients") +
xlab("Poids") +
ylab("Durée de l'opération en minutes")
ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+
ggtitle("Caractéristiques des patients") +
xlab("Poids") +
ylab("Durée de l'opération en minutes") +
facet_grid(CIM2 ~ Hopital)
ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+
geom_smooth(method="lm") +
ggtitle("Caractéristiques des patients") +
xlab("Poids") +
ylab("Durée de l'opération en minutes") +
facet_grid(CIM2 ~ Hopital)
ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+
geom_smooth() +
ggtitle("Caractéristiques des patients") +
xlab("Poids") +
ylab("Durée de l'opération en minutes") +
facet_grid(CIM2 ~ Hopital)
ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+
geom_smooth(se=FALSE) +
ggtitle("Caractéristiques des patients") +
xlab("Poids") +
ylab("Durée de l'opération en minutes") +
facet_grid(CIM2 ~ Hopital)
ggplot(patient,aes(x=dureeopmin,y=totalechelle))+geom_point(aes(col=sexe))+
geom_smooth(method="lm",se=FALSE) +
ggtitle("Total des échelles de douleur et durée opération") +
xlab("Durée de l'opération en minutes") +
ylab("Total des échelles de douleur") +
facet_grid(CIM2 ~ Hopital)
ggplot(patient,aes(sexe))+geom_bar()
ggplot(patient,aes(sexe))+geom_bar()+
facet_grid(CIM2~Hopital)
require(reshape2)
tableau <- table(patient$sexe,patient$CIM2)
long <- melt(tableau,varnames = c("sexe","CIM2"),value.name = "value")
long
require(reshape2)
tableau <- table(patient$sexe,patient$CIM2)
tableau
long <- melt(tableau,varnames = c("sexe","CIM2"),value.name = "value")
ggplot(long,aes(x=sexe,y=value,fill=CIM2))+geom_bar(position = "stack",stat="identity")
ggplot(long,aes(x=CIM2,y=value,fill=sexe))+geom_bar(position = "dodge",stat="identity")
tableau <- table(patient$Hopital,patient$sexe,patient$CIM2)
long <- melt(tableau,varnames = c("Hopital","sexe","CIM2"),value.name = "value")
ggplot(long,aes(x=CIM2,y=value,fill=sexe))+
geom_bar(position = "dodge",stat="identity")+
facet_grid(Hopital ~ . )
ggplot(long,aes(x=CIM2,y=value,fill=sexe))+geom_bar(position = "dodge",stat="identity")
ggsave("mon-graphique.png")
ggplot(long,aes(x=CIM2,y=value,fill=sexe))+geom_bar(position = "dodge",stat="identity")
str(patient)
ggplot(patient,aes(x=dureeopmin,y=totalechelle,label=UID))+geom_point(aes(col=sexe))+
geom_smooth(method="lm",se=FALSE) +
geom_text_repel() +
ggtitle("Total des échelles de douleur et durée opération") +
xlab("Durée de l'opération en minutes") +
ylab("Total des échelles de douleur") +
facet_grid(CIM2 ~ Hopital)
ggplot(patient,aes(x=dureeopmin,y=totalechelle,label=UID))+geom_point(aes(col=sexe))+
geom_smooth(method="lm",se=FALSE) +
geom_text_repel() +
ggtitle("Total des échelles de douleur et durée opération") +
xlab("Durée de l'opération en minutes") +
ylab("Total des échelles de douleur")
long
long <- melt(tableau,varnames = c("sexe","CIM2"),value.name = "value")
bookdown::render_book()
bookdown::render_book()
bookdown::render_book()
bookdown::render_book()
bookdown::render_book()
bookdown::render_book()
bookdown::render_book()
bookdown::render_book("index.Rmd", "bookdown::pdf_book")
