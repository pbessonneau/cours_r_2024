<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Données de Parcoursup | Patient</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The HTML output format for this example is bookdown::gitbook, set in the _output.yml file." />
  <meta name="generator" content="bookdown 0.38 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Données de Parcoursup | Patient" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The HTML output format for this example is bookdown::gitbook, set in the _output.yml file." />
  <meta name="github-repo" content="pbessonneau/Cours_R_2024" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Données de Parcoursup | Patient" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The HTML output format for this example is bookdown::gitbook, set in the _output.yml file." />
  

<meta name="author" content="Pascal" />


<meta name="date" content="2024-03-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="le-langage-r.html"/>
<link rel="next" href="résumés-rapides-descriptives.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Objectif</a></li>
<li class="chapter" data-level="2" data-path="architecture-de-r.html"><a href="architecture-de-r.html"><i class="fa fa-check"></i><b>2</b> Architecture de R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="architecture-de-r.html"><a href="architecture-de-r.html#paquets"><i class="fa fa-check"></i><b>2.1</b> Paquets</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="le-langage-r.html"><a href="le-langage-r.html"><i class="fa fa-check"></i><b>3</b> Le langage R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="le-langage-r.html"><a href="le-langage-r.html#introduction"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="le-langage-r.html"><a href="le-langage-r.html#un-exemple-de-traitement-de-données"><i class="fa fa-check"></i><b>3.2</b> Un exemple de traitement de données</a></li>
<li class="chapter" data-level="3.3" data-path="le-langage-r.html"><a href="le-langage-r.html#vecteurs"><i class="fa fa-check"></i><b>3.3</b> Vecteurs</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="le-langage-r.html"><a href="le-langage-r.html#exemple-de-vecteurs"><i class="fa fa-check"></i><b>3.3.1</b> Exemple de vecteurs</a></li>
<li class="chapter" data-level="3.3.2" data-path="le-langage-r.html"><a href="le-langage-r.html#création-de-vecteurs"><i class="fa fa-check"></i><b>3.3.2</b> Création de vecteurs</a></li>
<li class="chapter" data-level="3.3.3" data-path="le-langage-r.html"><a href="le-langage-r.html#les-types-de-vecteurs"><i class="fa fa-check"></i><b>3.3.3</b> Les types de vecteurs</a></li>
<li class="chapter" data-level="3.3.4" data-path="le-langage-r.html"><a href="le-langage-r.html#pour-résumé"><i class="fa fa-check"></i><b>3.3.4</b> Pour résumé</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="le-langage-r.html"><a href="le-langage-r.html#sélection-des-individus"><i class="fa fa-check"></i><b>3.4</b> Sélection des individus</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="le-langage-r.html"><a href="le-langage-r.html#calcul-de-la-moyenne-et-nouveaux-générateurs"><i class="fa fa-check"></i><b>3.4.1</b> Calcul de la moyenne et nouveaux générateurs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="données-de-parcoursup.html"><a href="données-de-parcoursup.html"><i class="fa fa-check"></i><b>4</b> Données de Parcoursup</a></li>
<li class="chapter" data-level="5" data-path="résumés-rapides-descriptives.html"><a href="résumés-rapides-descriptives.html"><i class="fa fa-check"></i><b>5</b> Résumés rapides descriptives</a>
<ul>
<li class="chapter" data-level="5.1" data-path="résumés-rapides-descriptives.html"><a href="résumés-rapides-descriptives.html#les-premières-tables"><i class="fa fa-check"></i><b>5.1</b> Les premières tables</a></li>
<li class="chapter" data-level="5.2" data-path="résumés-rapides-descriptives.html"><a href="résumés-rapides-descriptives.html#tableaux-croisés"><i class="fa fa-check"></i><b>5.2</b> Tableaux croisés</a></li>
<li class="chapter" data-level="5.3" data-path="résumés-rapides-descriptives.html"><a href="résumés-rapides-descriptives.html#themes"><i class="fa fa-check"></i><b>5.3</b> Themes</a></li>
<li class="chapter" data-level="5.4" data-path="résumés-rapides-descriptives.html"><a href="résumés-rapides-descriptives.html#exportation"><i class="fa fa-check"></i><b>5.4</b> Exportation</a></li>
<li class="chapter" data-level="5.5" data-path="résumés-rapides-descriptives.html"><a href="résumés-rapides-descriptives.html#personnalisation-des-statistiques"><i class="fa fa-check"></i><b>5.5</b> Personnalisation des statistiques</a></li>
<li class="chapter" data-level="5.6" data-path="résumés-rapides-descriptives.html"><a href="résumés-rapides-descriptives.html#modèles"><i class="fa fa-check"></i><b>5.6</b> Modèles</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="résumés-rapides-descriptives.html"><a href="résumés-rapides-descriptives.html#exemple-de-modèle-de-régression-linéaire"><i class="fa fa-check"></i><b>5.6.1</b> Exemple de modèle de régression linéaire</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="graphiques-et-ggplot.html"><a href="graphiques-et-ggplot.html"><i class="fa fa-check"></i><b>6</b> Graphiques et ggplot</a>
<ul>
<li class="chapter" data-level="6.1" data-path="graphiques-et-ggplot.html"><a href="graphiques-et-ggplot.html#les-graphiques-de-base"><i class="fa fa-check"></i><b>6.1</b> Les graphiques de base</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="graphiques-et-ggplot.html"><a href="graphiques-et-ggplot.html#pour-les-graphiques-de-chiffres"><i class="fa fa-check"></i><b>6.1.1</b> Pour les graphiques de chiffres</a></li>
<li class="chapter" data-level="6.1.2" data-path="graphiques-et-ggplot.html"><a href="graphiques-et-ggplot.html#introduction-1"><i class="fa fa-check"></i><b>6.1.2</b> Introduction</a></li>
<li class="chapter" data-level="6.1.3" data-path="graphiques-et-ggplot.html"><a href="graphiques-et-ggplot.html#la-base"><i class="fa fa-check"></i><b>6.1.3</b> La base</a></li>
<li class="chapter" data-level="6.1.4" data-path="graphiques-et-ggplot.html"><a href="graphiques-et-ggplot.html#les-autres-graphiques"><i class="fa fa-check"></i><b>6.1.4</b> Les autres graphiques</a></li>
<li class="chapter" data-level="6.1.5" data-path="graphiques-et-ggplot.html"><a href="graphiques-et-ggplot.html#tableaux-de-contingences"><i class="fa fa-check"></i><b>6.1.5</b> Tableaux de contingences</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="graphiques-et-ggplot.html"><a href="graphiques-et-ggplot.html#liens"><i class="fa fa-check"></i><b>6.2</b> Liens</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="manipulation-avancée-mettre-en-forme-vos-données.html"><a href="manipulation-avancée-mettre-en-forme-vos-données.html"><i class="fa fa-check"></i><b>7</b> Manipulation avancée (mettre en forme vos données)</a>
<ul>
<li class="chapter" data-level="7.1" data-path="manipulation-avancée-mettre-en-forme-vos-données.html"><a href="manipulation-avancée-mettre-en-forme-vos-données.html#transformation-de-plusieurs-variables"><i class="fa fa-check"></i><b>7.1</b> Transformation de plusieurs variables</a></li>
<li class="chapter" data-level="7.2" data-path="manipulation-avancée-mettre-en-forme-vos-données.html"><a href="manipulation-avancée-mettre-en-forme-vos-données.html#opérateurs-et-case_when"><i class="fa fa-check"></i><b>7.2</b> Opérateurs et case_when</a></li>
<li class="chapter" data-level="7.3" data-path="manipulation-avancée-mettre-en-forme-vos-données.html"><a href="manipulation-avancée-mettre-en-forme-vos-données.html#réutilisation-de-statistiques"><i class="fa fa-check"></i><b>7.3</b> Réutilisation de statistiques</a></li>
<li class="chapter" data-level="7.4" data-path="manipulation-avancée-mettre-en-forme-vos-données.html"><a href="manipulation-avancée-mettre-en-forme-vos-données.html#chargement"><i class="fa fa-check"></i><b>7.4</b> Chargement</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Patient</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="données-de-parcoursup" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Données de Parcoursup<a href="données-de-parcoursup.html#données-de-parcoursup" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Les données de ParcourSup viennent de là :
<a href="https://data.education.gouv.fr/explore/embed/dataset/fr-esr-parcoursup/table/?sort=tri">Parcoursup 2023 - vœux de poursuite d’études et de réorientation dans l’enseignement supérieur et réponses des établissements</a></p>
<p>sinon vous avez les métiers en tensions :
<a href="https://data.education.gouv.fr/explore/embed/dataset/fr-en-taux-de-pression-et-demploi/table/?disjunctive.diplome&amp;disjunctive.type_dip_lib&amp;disjunctive.filiere&amp;disjunctive.specialite_lib">Taux de pression et d’emploi pour les diplômes de la voie professionnelle</a></p>
<p>En suivant les liens vous pouvez télécharger les fichiers Excel.</p>
<p>Déplacer le fichier Excel à la racine de votre projet. puis</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="données-de-parcoursup.html#cb81-1" tabindex="-1"></a><span class="fu">library</span>(readxl)</span></code></pre></div>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="données-de-parcoursup.html#cb82-1" tabindex="-1"></a>parcours <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;data/fr-esr-parcoursup.xlsx&quot;</span>)</span></code></pre></div>
<pre><code>## New names:
## • `Filière de formation` -&gt; `Filière de formation...10`
## • `Filière de formation` -&gt; `Filière de formation...14`</code></pre>
<p>Je viens de créer une data.frame du nom de parcours avec le contenu du fichier
Excel.</p>
<p>Pour sélectionner les variables, utiliser le raccourci TAB.</p>
<p>Pour charger un fichier SPSS, il faut aussi un paquet supplémentaire :</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="données-de-parcoursup.html#cb84-1" tabindex="-1"></a><span class="fu">require</span>(haven)</span></code></pre></div>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="données-de-parcoursup.html#cb85-1" tabindex="-1"></a>patient <span class="ot">&lt;-</span> <span class="fu">read_sav</span>(<span class="st">&quot;data/patient.sav&quot;</span>)</span></code></pre></div>
<p>C’est le même paquet pour les formats <strong>SAS</strong> (<strong>sas7bdat</strong>) et <strong>STATA</strong>. On
trouve le chargement des mêmes types de fichier dans le paquet <strong>foreign</strong>
mais attention ce sont pour les vieux formats de fichiers.</p>
<p>Par exemple pour SAS, il suffit de changer de fonction :</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="données-de-parcoursup.html#cb86-1" tabindex="-1"></a>patient <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="st">&quot;patient.sas7bdat&quot;</span>)</span></code></pre></div>
<p>Lors de l’import, de SAS, SPSS, il conserve le type de la variable. Quand on veux
importer un fichier Excel ou un fichier texte, cela est différent.</p>
<p>On va prendre l’exemple de fichier texte : l’importation se fait en fait en
trois temps.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="données-de-parcoursup.html#cb87-1" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb87-2"><a href="données-de-parcoursup.html#cb87-2" tabindex="-1"></a>patient <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/patient.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 200 Columns: 17
## ── Column specification ───────────────────────────────────────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr  (5): UID, Hopital, sexe, scoliose, drepano
## dbl (12): poids, vitaux, CIM2, age, dureeopmin, postopj, ACP, peridurale, periACP, nbttt, totalechelle, nbechelle
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="données-de-parcoursup.html#cb89-1" tabindex="-1"></a><span class="fu">table</span>(patient<span class="sc">$</span>scoliose)</span></code></pre></div>
<pre><code>## 
##  ante autre  post 
##     3     2    20</code></pre>
<p>Dans un premier temps, la fonction <strong>read_csv</strong> va parcourir les 1000 premières
lignes du fichier à la découverte de :
- du séparateur entre les champs
- du séparateur de décimales
- le type de chaque colonne.</p>
<p>Si par exemple il trouve que des chiffres dans une colonne, le type sera <strong>dbl</strong>.
Par contre s’il trouve un mélange de charactères et de chiffres, là rien ne va
plus. Ca peut se produire par exemple lorsque vous avez des chiffres mélangés
à des valeurs manquantes qui sont représentés par des valeurs textes ou bien des
symboles textuels.</p>
<p>Les petites machines qui transforment les données en données typées sont des
parser. Elles sont d’ailleurs disponible à part :</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="données-de-parcoursup.html#cb91-1" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">parse_double</span>(<span class="fu">c</span>(<span class="st">&quot;1.56&quot;</span>, <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;NA&quot;</span>)))</span></code></pre></div>
<pre><code>##  num [1:3] 1.56 NA NA</code></pre>
<p>NA est reconnu comme valeur manquante alors pas de souci, le 1.56 est reconnu.</p>
<p>et si on mettait 1,56 ?</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="données-de-parcoursup.html#cb93-1" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">parse_double</span>(<span class="fu">c</span>(<span class="st">&quot;1,56&quot;</span>, <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;NA&quot;</span>)))</span></code></pre></div>
<pre><code>## Warning: 1 parsing failure.
## row col               expected actual
##   1  -- no trailing characters   1,56</code></pre>
<pre><code>##  num [1:3] NA NA NA
##  - attr(*, &quot;problems&quot;)= tibble [1 × 4] (S3: tbl_df/tbl/data.frame)
##   ..$ row     : int 1
##   ..$ col     : int NA
##   ..$ expected: chr &quot;no trailing characters&quot;
##   ..$ actual  : chr &quot;1,56&quot;</code></pre>
<p>pas terrible ce qui suit :</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="données-de-parcoursup.html#cb96-1" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">parse_double</span>(<span class="fu">c</span>(<span class="st">&quot;1.56&quot;</span>, <span class="st">&quot;NR&quot;</span>, <span class="st">&quot;NR&quot;</span>)))</span></code></pre></div>
<pre><code>## Warning: 2 parsing failures.
## row col expected actual
##   2  -- a double     NR
##   3  -- a double     NR</code></pre>
<pre><code>##  num [1:3] 1.56 NA NA
##  - attr(*, &quot;problems&quot;)= tibble [2 × 4] (S3: tbl_df/tbl/data.frame)
##   ..$ row     : int [1:2] 2 3
##   ..$ col     : int [1:2] NA NA
##   ..$ expected: chr [1:2] &quot;a double&quot; &quot;a double&quot;
##   ..$ actual  : chr [1:2] &quot;NR&quot; &quot;NR&quot;</code></pre>
<p>On rétablit la situation normale en mettant na = NR :</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="données-de-parcoursup.html#cb99-1" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">parse_double</span>(<span class="fu">c</span>(<span class="st">&quot;1.56&quot;</span>, <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;NA&quot;</span>),<span class="at">na =</span> <span class="st">&quot;NR&quot;</span>))</span></code></pre></div>
<pre><code>## Warning: 2 parsing failures.
## row col expected actual
##   2  -- a double     --
##   3  -- a double     --</code></pre>
<pre><code>##  num [1:3] 1.56 NA NA
##  - attr(*, &quot;problems&quot;)= tibble [2 × 4] (S3: tbl_df/tbl/data.frame)
##   ..$ row     : int [1:2] 2 3
##   ..$ col     : int [1:2] NA NA
##   ..$ expected: chr [1:2] &quot;a double&quot; &quot;a double&quot;
##   ..$ actual  : chr [1:2] &quot;NA&quot; &quot;NA&quot;</code></pre>
<p>Dans la jungle des parsers, on a les parsers :
- parse_logical()
- parse_integer()
- parse_double()
- parse_character()
- parse_number()
- parse_factor()
- parse_datetime() (may be the force with you)
- …</p>
<p>Si vous avez bien suivi, la machine va lire les n premières lignes et à chaque
colonne essayer de deviner le type de variable et appeler le parser qui va
bien : ce sont les fonctions <strong>guess_</strong>.</p>
<p>Ceux sont eux qui vont décider du type de variable que vous importez. Pour le
faire vous même, il suffit de spécificier chaque à la main :</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="données-de-parcoursup.html#cb102-1" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;data/iris.csv&quot;</span>, <span class="at">col_types =</span> <span class="fu">list</span>(</span>
<span id="cb102-2"><a href="données-de-parcoursup.html#cb102-2" tabindex="-1"></a>  <span class="at">Sepal.Length =</span> <span class="fu">col_double</span>(),</span>
<span id="cb102-3"><a href="données-de-parcoursup.html#cb102-3" tabindex="-1"></a>  <span class="at">Sepal.Width =</span> <span class="fu">col_double</span>(),</span>
<span id="cb102-4"><a href="données-de-parcoursup.html#cb102-4" tabindex="-1"></a>  <span class="at">Petal.Length =</span> <span class="fu">col_double</span>(),</span>
<span id="cb102-5"><a href="données-de-parcoursup.html#cb102-5" tabindex="-1"></a>  <span class="at">Petal.Width =</span> <span class="fu">col_double</span>(),</span>
<span id="cb102-6"><a href="données-de-parcoursup.html#cb102-6" tabindex="-1"></a>  <span class="at">Species =</span> <span class="fu">col_factor</span>(<span class="fu">c</span>(<span class="st">&quot;setosa&quot;</span>, <span class="st">&quot;versicolor&quot;</span>, <span class="st">&quot;virginica&quot;</span>))</span>
<span id="cb102-7"><a href="données-de-parcoursup.html#cb102-7" tabindex="-1"></a>))</span></code></pre></div>
<pre><code>## Warning: The following named parsers don&#39;t match the column names: Sepal.Length, Sepal.Width, Petal.Length,
## Petal.Width, Species</code></pre>
<pre><code>## Warning: One or more parsing issues, call `problems()` on your data frame for details, e.g.:
##   dat &lt;- vroom(...)
##   problems(dat)</code></pre>
<pre><code>## # A tibble: 150 × 1
##    `Sepal.Length;Sepal.Width;Petal.Length;Petal.Width;Species`
##    &lt;chr&gt;                                                      
##  1 5,1;3,5;1,4;NA;setosa                                      
##  2 4,9;3;1,4;NA;setosa                                        
##  3 4,7;3,2;1,3;NA;setosa                                      
##  4 4,6;3,1;1,5;NA;setosa                                      
##  5 5;3,6;1,4;NA;setosa                                        
##  6 5,4;3,9;1,7;0,4;setosa                                     
##  7 4,6;3,4;1,4;0,3;setosa                                     
##  8 5;3,4;1,5;0,2;setosa                                       
##  9 4,4;2,9;1,4;0,2;setosa                                     
## 10 4,9;3,1;1,5;0,1;setosa                                     
## # ℹ 140 more rows</code></pre>
<p>Sur cette ligne, c’est un peu complexe et surtout cela fait appel à deux élements
que vous connaissez pas. Les <strong>list</strong>s et les <strong>factor</strong>s.</p>
<p>Un <strong>factor</strong> est un ensemble de valeurs fini : c’est comme ça que vous pouvez
coder un ensemble de valeurs que vous pouvez énumérer et que vous utiliseriez
par exemple dans une expérience. Par exemple, on peut avoir comme facteur :</p>
<ul>
<li>le nombre de cylindres de mtcars 4, 6 ou 8</li>
<li>les médicaments dans une expérience en double aveugle: A, B, C</li>
<li>…</li>
</ul>
<p>L’idée est qu’un facteur est à utiliser dans une ANOVA (un test de différences de
moyennes sur 1 à k groupes).</p>
<p>La liste est une <strong>data.frame</strong> libertaire : par libértaire j’entends qu’on peut
mettre n’importe objet et l’indexer (presque) comme une <strong>data.frame</strong>.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="données-de-parcoursup.html#cb106-1" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">list</span>(iris,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),LETTERS,mtcars[,<span class="fu">c</span>(<span class="st">&quot;cyl&quot;</span>,<span class="st">&quot;mpg&quot;</span>)])</span>
<span id="cb106-2"><a href="données-de-parcoursup.html#cb106-2" tabindex="-1"></a><span class="fu">str</span>(a)</span></code></pre></div>
<pre><code>## List of 4
##  $ :&#39;data.frame&#39;:    150 obs. of  5 variables:
##   ..$ Sepal.Length: num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##   ..$ Sepal.Width : num [1:150] 3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##   ..$ Petal.Length: num [1:150] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##   ..$ Petal.Width : num [1:150] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##   ..$ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ : num [1:3] 1 2 3
##  $ : chr [1:26] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; ...
##  $ :&#39;data.frame&#39;:    32 obs. of  2 variables:
##   ..$ cyl: num [1:32] 6 6 4 6 8 6 8 4 4 6 ...
##   ..$ mpg: num [1:32] 21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...</code></pre>
<p>On voit que c’est un type <strong>list</strong>, les <strong>data.frame</strong>.</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="le-langage-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="résumés-rapides-descriptives.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/02-Importation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
