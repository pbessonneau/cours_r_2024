[["index.html", "A Minimal Book on R Chapter 1 Objectif", " A Minimal Book on R Pascal Bessonneau 2024-03-25 Chapter 1 Objectif Ce document constitue la trame du cours sur R pour les doctorants “orientation” du CRTD du CNAM. Il n’est pas exhaustif et se place plutôt en appui du cours de M. Kilani. Il est construit sur les bases et sur les difficultés du langage. "],["architecture-de-r.html", "Chapter 2 Architecture de R 2.1 Paquets", " Chapter 2 Architecture de R ## New names: ## • `Filière de formation` -&gt; `Filière de formation...10` ## • `Filière de formation` -&gt; `Filière de formation...14` R est à l’origine un logiciel de statistiques. Pour en faciliter l’usage il y avait une interface très rugueuse qui était livré avec sous Windows. Pour l’utiliser, en fait, il fallait écrire le code dans un bloc-notes (le code est du texte brut) et le coller dans la console de R. Vous pouvez toujours voir ce que ça donne en lançant R et non pas RStudio sur votre bureau. En prenant la mesure qu’il y a eu beaucoup de progrès de fait. Maintenant il existe RStudio, racheté par Posit. En fait c’est éditeur de texte grandement amélioré. Vous tapez le script dans la fenêtre en haut à gauche et vous l’exécutez en cliquant sur l’icone ou CTRL+ENTREE. Vous pouvez limiter ce que vous exécutez en sélectionnant du texte dans l’éditeur, seul le texte sélectionné sera soumis. En clair, comme RStudio est un éditeur amélioré : - le code qui n’est pas soumis, R ne le reconnait pas. Si vous créez une variable en ligne 4 mais que vous ne le soumettez pas, quand vous aurez besoin de la variable en ligne 30, elle n’existera pas. - l’éditeur de texte peut contenir autre chose que du texte simple. Par exemple du RMarkdown comme c’est le cas pour ce document. C’est un langage qui produit de l’HTML c’est-à-dire des pages web. Le Markdown est très simple, le langage tient sur une feuille : ici. - ou du LaTeX avec le mode knitr - On peut des graphiques R dans la fenêtre RStudio (en bas à droite) - RStudio peut servir pour la gestion de paquets - … RStudio fait donc beaucoup de choses. A noter que Jamovi et JASP utilisent aussi R sauf que pour eux ce n’est presque plus visible. A part dans les extensions et/ou les modules. Il y a des modules Jamovi pour écrire du code R ou pour faire des modèles structuraux directement en R dans Jamovi. Vous allez avoir une démonstration enregistré pour l’utilisation de RStudio. Les autres choses à rappeler, c’est que R est un langage cassee dépendant : - les noms de fonctions de R sont à écrire en minuscules - un objet n’est pas le même si une ou plusieurs lettres sont en majuscule au lieu d’être en minuscule. aAa &lt;- 2 AAa &lt;- 4 donc AAa ## [1] 4 et aAa ## [1] 2 Les commentaires dans R sont à noter avec des #. Tout ce qui suit le # est un commentaire. Comme RStudio vous l’aurez remarqué vous aide en analysant et en colorant le code, n’utilisez pas un script R pour mettre des remarques (et non du code) en dehors de commentaires. Sinon c’est la catastrophe… Utiliser toujours RStudio en mode Projet 2.1 Paquets Les fonctionnalités de R sont finalement assez limitées. Il fait un certain nombre de statistiques et surtout fourni des outils mathématiques puissants mais ça grande force est de proposer des paquets qui ajoute des fonctionnalités. Ces paquets sont développés par des gens (qui font ça sur leur temps personnel ou professionnel), des entreprises, des fondations, … La liste des paquets officiels est là Ils sont maintenant pléthoriques et je vous conseille de vous reportez à cette page. Elles répertorient les paquets utiles par domaine d’application. De plus les paquets un peu douteux en qualité n’y figure pas. Donc c’est du solide. Pour cela je vous recommande de l’utiliser pour se faire, suivez les instructions ci-dessous: install.packages(&quot;ctv&quot;) Puis quand vous voulez installer une vue (SocialSciences par exemple) : library(ctv) install.views(&quot;SocialSciences&quot;) On vient de voir comment appeler un paquet : library(tidyverse) ou require(tidyverse) Cela revient presque au même. Presque. Pour commencer vous pouvez utiliser library en priorité. Essayez d’installer un paquet : install.packages(&quot;readxl&quot;) Maintenant vous pouvez lire les fichiers Excel. Vous n’avez besoin d’installer le paquet qu’une fois mais vous devez le réclamer avec library la première fois que vous l’utilisez dans un script. La politique est de charger tous les paquets que vous utilisez en tête du script. Maintenant on va faire des statistiques. "],["le-langage-r.html", "Chapter 3 Le langage R 3.1 Introduction 3.2 Un exemple de traitement de données 3.3 Vecteurs 3.4 Sélection des individus", " Chapter 3 Le langage R 3.1 Introduction Le but est d’aborder des notions et de voir quelques exemples. R ne fonctionne pas comme JASP, Jamovi, SAS ou SPSS. Par exemple SPSS, vous ouvrez une source de données et vous voyez vos données sur un tableur. Quand vous passez une commande sur SPSS, il n’y a pas d’ambiguité, le traitement se fait sur le tableur actif. Avec SAS, on ajoute une dose de complexité, car vous avez des bibliothèques et des tables. Dans les deux cas, quand vous lancez une procédure statistique vous récupérez les résultats dans une fenêtre dédié car il y a une séparation des données et des résultats (dans la quasi-totalité des cas). Avec R, c’est différent. R est un langage de programmation comme Python, Pascal, Rust, etc. La force de R et ce qui le rend compliqué est qu’il n’y a pas de séparation aussi stricte entre données et résultats. Vous avez des objets en mémoire dans R et ces objets peuvent servir aussi bien de sources de données, d’arguments pour sélectionner une partie des résultats ou bien être des résultats d’une opérations statistiques. 3.2 Un exemple de traitement de données On va travailler sur une base de données qui sont les iris de Fisher. C’est plus simple car c’est un jeu de données qui est en mémoire dans R, on verra comment charger une source de données plus tard. data(iris) Vous pouvez cliquer sur iris qui est apparu dans la fenêtre en haut à droite de RStudio. Elle ouvre un tableur assez frustre mais qui permet de visualiser les données. Mais c’est une très mauvaise habitude d’utiliser ce tableur pour visualiser les données. Il vaut mieux taper : str(iris) ## &#39;data.frame&#39;: 150 obs. of 5 variables: ## $ Sepal.Length: num 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ... ## $ Sepal.Width : num 3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ... ## $ Petal.Length: num 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ... ## $ Petal.Width : num 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ... ## $ Species : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ... str c’est pour structure. Enfin je crois. Elle vous décrit quelle est la nature de l’objet et de quoi il est composé. Ca peut être rudemment complexe. Mais là non. Il nous dit que c’est une data.frame. Le type data.frame est ce qui se rapproche le plus d’un tableau de données comme dans SPSS ou Jamovi. R nous dit que la data.frame a 150 observations et 5 variables. La structure est tabulaire comme dans Jamovi ou JASP: on a 150 relevés de plante (individus) et on a gardé 5 éléments caractérisant l’individu. Sepal.Length : num veut dire numeric, c’est une taille de Sépale. Sepal.Width : num veut dire numeric, c’est une taille de Sépale. … Species : c’est l’espèce, qui peut prendre 3 valeurs. Dans un type appelé Factor On voit que R sépare bien chacune des variables. Pour schématiser dans notre cas nous avons des individus en ligne et des observations en colonne. Comme Jamovi. 3.3 Vecteurs 3.3.1 Exemple de vecteurs Là où ça devient différent c’est que la data.frame est en fait un aggrégat d’élements plus simples. Vous pouvez extraire par exemple la longueur des sépales pour tous les individus: iris[,&quot;Sepal.Length&quot;] ## [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8 4.3 5.8 5.7 5.4 5.1 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0 5.0 5.2 5.2 ## [30] 4.7 4.8 5.4 5.2 5.5 4.9 5.0 5.5 4.9 4.4 5.1 5.0 4.5 4.4 5.0 5.1 4.8 5.1 4.6 5.3 5.0 7.0 6.4 6.9 5.5 6.5 5.7 6.3 4.9 ## [59] 6.6 5.2 5.0 5.9 6.0 6.1 5.6 6.7 5.6 5.8 6.2 5.6 5.9 6.1 6.3 6.1 6.4 6.6 6.8 6.7 6.0 5.7 5.5 5.5 5.8 6.0 5.4 6.0 6.7 ## [88] 6.3 5.6 5.5 5.5 6.1 5.8 5.0 5.6 5.7 5.7 6.2 5.1 5.7 6.3 5.8 7.1 6.3 6.5 7.6 4.9 7.3 6.7 7.2 6.5 6.4 6.8 5.7 5.8 6.4 ## [117] 6.5 7.7 7.7 6.0 6.9 5.6 7.7 6.3 6.7 7.2 6.2 6.1 6.4 7.2 7.4 7.9 6.4 6.3 6.1 7.7 6.3 6.4 6.0 6.9 6.7 6.9 5.8 6.8 6.7 ## [146] 6.7 6.3 6.5 6.2 5.9 Vous regardez par colonne, vous obtenez les valeurs pour les 150 individus. Si vous regardez la structure de ce que vous avez obtenu : str(iris[,&quot;Sepal.Length&quot;]) ## num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ... Vous voyez que ce qui s’affichait tout à l’heure sur la data.frame. Vous pouvez calculer la moyenne des longueurs: mean(iris[,&quot;Sepal.Length&quot;]) ## [1] 5.843333 Vous venez de faire une opération sur un vecteur. C’est un ensemble qui est typé ici des numériques mais ça peut être du texte, des entiers, etc. respectivement character, integer, etc. Vous pouvez extraire ce vecteur : longueur.sepale &lt;- iris[,&quot;Sepal.Length&quot;] Vous remarquez que R n’affiche pas le résultat de l’opération car on ne lui demande pas de résultat. On affecte la partie à droite de “&lt;-” à la partie gauche. Si on fait: longueur.sepale ## [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8 4.3 5.8 5.7 5.4 5.1 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0 5.0 5.2 5.2 ## [30] 4.7 4.8 5.4 5.2 5.5 4.9 5.0 5.5 4.9 4.4 5.1 5.0 4.5 4.4 5.0 5.1 4.8 5.1 4.6 5.3 5.0 7.0 6.4 6.9 5.5 6.5 5.7 6.3 4.9 ## [59] 6.6 5.2 5.0 5.9 6.0 6.1 5.6 6.7 5.6 5.8 6.2 5.6 5.9 6.1 6.3 6.1 6.4 6.6 6.8 6.7 6.0 5.7 5.5 5.5 5.8 6.0 5.4 6.0 6.7 ## [88] 6.3 5.6 5.5 5.5 6.1 5.8 5.0 5.6 5.7 5.7 6.2 5.1 5.7 6.3 5.8 7.1 6.3 6.5 7.6 4.9 7.3 6.7 7.2 6.5 6.4 6.8 5.7 5.8 6.4 ## [117] 6.5 7.7 7.7 6.0 6.9 5.6 7.7 6.3 6.7 7.2 6.2 6.1 6.4 7.2 7.4 7.9 6.4 6.3 6.1 7.7 6.3 6.4 6.0 6.9 6.7 6.9 5.8 6.8 6.7 ## [146] 6.7 6.3 6.5 6.2 5.9 On retrouve bien nos longueurs. On peut en calculer la moyenne : mean(longueur.sepale) ## [1] 5.843333 Qu’est ce qui se passe ? En fait on a indexé notre data.frame. On a dit à R, renvoie nous la variable “Sepal.Length” et nous avons décidé de le stocker dans une variable autre. 3.3.2 Création de vecteurs Pour créer un vecteur, il faut utiliser la fonction c pour concatenate. Exemple : c(&quot;Sepal.Length&quot;,&quot;Petal.Length&quot;) ## [1] &quot;Sepal.Length&quot; &quot;Petal.Length&quot; On peut l’affecter à une variable: longueurs &lt;- c(&quot;Sepal.Length&quot;,&quot;Petal.Length&quot;) C’est un vecteur : str(longueurs) ## chr [1:2] &quot;Sepal.Length&quot; &quot;Petal.Length&quot; Maintenant on peut faire: iris[,longueurs] ## Sepal.Length Petal.Length ## 1 5.1 1.4 ## 2 4.9 1.4 ## 3 4.7 1.3 ## 4 4.6 1.5 ## 5 5.0 1.4 ## 6 5.4 1.7 ## 7 4.6 1.4 ## 8 5.0 1.5 ## 9 4.4 1.4 ## 10 4.9 1.5 ## 11 5.4 1.5 ## 12 4.8 1.6 ## 13 4.8 1.4 ## 14 4.3 1.1 ## 15 5.8 1.2 ## 16 5.7 1.5 ## 17 5.4 1.3 ## 18 5.1 1.4 ## 19 5.7 1.7 ## 20 5.1 1.5 ## 21 5.4 1.7 ## 22 5.1 1.5 ## 23 4.6 1.0 ## 24 5.1 1.7 ## 25 4.8 1.9 ## 26 5.0 1.6 ## 27 5.0 1.6 ## 28 5.2 1.5 ## 29 5.2 1.4 ## 30 4.7 1.6 ## 31 4.8 1.6 ## 32 5.4 1.5 ## 33 5.2 1.5 ## 34 5.5 1.4 ## 35 4.9 1.5 ## 36 5.0 1.2 ## 37 5.5 1.3 ## 38 4.9 1.4 ## 39 4.4 1.3 ## 40 5.1 1.5 ## 41 5.0 1.3 ## 42 4.5 1.3 ## 43 4.4 1.3 ## 44 5.0 1.6 ## 45 5.1 1.9 ## 46 4.8 1.4 ## 47 5.1 1.6 ## 48 4.6 1.4 ## 49 5.3 1.5 ## 50 5.0 1.4 ## 51 7.0 4.7 ## 52 6.4 4.5 ## 53 6.9 4.9 ## 54 5.5 4.0 ## 55 6.5 4.6 ## 56 5.7 4.5 ## 57 6.3 4.7 ## 58 4.9 3.3 ## 59 6.6 4.6 ## 60 5.2 3.9 ## 61 5.0 3.5 ## 62 5.9 4.2 ## 63 6.0 4.0 ## 64 6.1 4.7 ## 65 5.6 3.6 ## 66 6.7 4.4 ## 67 5.6 4.5 ## 68 5.8 4.1 ## 69 6.2 4.5 ## 70 5.6 3.9 ## 71 5.9 4.8 ## 72 6.1 4.0 ## 73 6.3 4.9 ## 74 6.1 4.7 ## 75 6.4 4.3 ## 76 6.6 4.4 ## 77 6.8 4.8 ## 78 6.7 5.0 ## 79 6.0 4.5 ## 80 5.7 3.5 ## 81 5.5 3.8 ## 82 5.5 3.7 ## 83 5.8 3.9 ## 84 6.0 5.1 ## 85 5.4 4.5 ## 86 6.0 4.5 ## 87 6.7 4.7 ## 88 6.3 4.4 ## 89 5.6 4.1 ## 90 5.5 4.0 ## 91 5.5 4.4 ## 92 6.1 4.6 ## 93 5.8 4.0 ## 94 5.0 3.3 ## 95 5.6 4.2 ## 96 5.7 4.2 ## 97 5.7 4.2 ## 98 6.2 4.3 ## 99 5.1 3.0 ## 100 5.7 4.1 ## 101 6.3 6.0 ## 102 5.8 5.1 ## 103 7.1 5.9 ## 104 6.3 5.6 ## 105 6.5 5.8 ## 106 7.6 6.6 ## 107 4.9 4.5 ## 108 7.3 6.3 ## 109 6.7 5.8 ## 110 7.2 6.1 ## 111 6.5 5.1 ## 112 6.4 5.3 ## 113 6.8 5.5 ## 114 5.7 5.0 ## 115 5.8 5.1 ## 116 6.4 5.3 ## 117 6.5 5.5 ## 118 7.7 6.7 ## 119 7.7 6.9 ## 120 6.0 5.0 ## 121 6.9 5.7 ## 122 5.6 4.9 ## 123 7.7 6.7 ## 124 6.3 4.9 ## 125 6.7 5.7 ## 126 7.2 6.0 ## 127 6.2 4.8 ## 128 6.1 4.9 ## 129 6.4 5.6 ## 130 7.2 5.8 ## 131 7.4 6.1 ## 132 7.9 6.4 ## 133 6.4 5.6 ## 134 6.3 5.1 ## 135 6.1 5.6 ## 136 7.7 6.1 ## 137 6.3 5.6 ## 138 6.4 5.5 ## 139 6.0 4.8 ## 140 6.9 5.4 ## 141 6.7 5.6 ## 142 6.9 5.1 ## 143 5.8 5.1 ## 144 6.8 5.9 ## 145 6.7 5.7 ## 146 6.7 5.2 ## 147 6.3 5.0 ## 148 6.5 5.2 ## 149 6.2 5.4 ## 150 5.9 5.1 On vient d’indexer iris avec un vecteur composé de deux noms qui sont les noms des variables. R lit la partie droite de la virgule et comprends que nous voulons les deux variables. Quelle est la structure de ce que l’on récupère : str(iris[,longueurs]) ## &#39;data.frame&#39;: 150 obs. of 2 variables: ## $ Sepal.Length: num 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ... ## $ Petal.Length: num 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ... C’est une data.frame les informations sur nos 150 individus pour les longueurs. on peut faire: iris.longueurs &lt;- iris[,longueurs] str(iris.longueurs) ## &#39;data.frame&#39;: 150 obs. of 2 variables: ## $ Sepal.Length: num 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ... ## $ Petal.Length: num 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ... iris.longueurs[,&quot;Sepal.Length&quot;] ## [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8 4.3 5.8 5.7 5.4 5.1 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0 5.0 5.2 5.2 ## [30] 4.7 4.8 5.4 5.2 5.5 4.9 5.0 5.5 4.9 4.4 5.1 5.0 4.5 4.4 5.0 5.1 4.8 5.1 4.6 5.3 5.0 7.0 6.4 6.9 5.5 6.5 5.7 6.3 4.9 ## [59] 6.6 5.2 5.0 5.9 6.0 6.1 5.6 6.7 5.6 5.8 6.2 5.6 5.9 6.1 6.3 6.1 6.4 6.6 6.8 6.7 6.0 5.7 5.5 5.5 5.8 6.0 5.4 6.0 6.7 ## [88] 6.3 5.6 5.5 5.5 6.1 5.8 5.0 5.6 5.7 5.7 6.2 5.1 5.7 6.3 5.8 7.1 6.3 6.5 7.6 4.9 7.3 6.7 7.2 6.5 6.4 6.8 5.7 5.8 6.4 ## [117] 6.5 7.7 7.7 6.0 6.9 5.6 7.7 6.3 6.7 7.2 6.2 6.1 6.4 7.2 7.4 7.9 6.4 6.3 6.1 7.7 6.3 6.4 6.0 6.9 6.7 6.9 5.8 6.8 6.7 ## [146] 6.7 6.3 6.5 6.2 5.9 mean(iris.longueurs[,&quot;Sepal.Length&quot;]) ## [1] 5.843333 3.3.3 Les types de vecteurs les vecteurs en résumé peuvent être : - des numéros entiers, int - des chaines de caractères, chr - des logiques, logi - des réels, num - … On peut créer un vecteur d’entiers c(1,3) ## [1] 1 3 Un vecteur de logique: (T pour vrai, F pour faux) c(T,F,T,F,F) ## [1] TRUE FALSE TRUE FALSE FALSE Et là surprise : si on demande à R de nous retourner la première et la troisième variable de iris str(iris[,c(1,3)]) ## &#39;data.frame&#39;: 150 obs. of 2 variables: ## $ Sepal.Length: num 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ... ## $ Petal.Length: num 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ... Plus compliqué. On sait qu’il y a 5 variables dans iris ? On est d’accord ? Donc si on lui demande de nous renvoyer la variable quand c’est vrai et de ne pas nous la renvoyer quand c’est faux ? str(iris[,c(T,F,T,F,F)]) ## &#39;data.frame&#39;: 150 obs. of 2 variables: ## $ Sepal.Length: num 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ... ## $ Petal.Length: num 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ... En fait les data.frames sont des agrégats de vecteurs que l’on peut indexer avec des vecteurs. Pourquoi on ne peut pas faire : mean(iris.longueurs) parce qu’on a deux variables ? R refuse de faire ce qui n’a pas de sens. Après tout on voudrait faire la moyenne de sépale et de pétale. Déjà mais ça pourrait être pire : mean(iris[,c(&quot;Sepal.Length&quot;,&quot;Species&quot;)]) C’est la catastrophe. Vous essayez de faire une moyenne sur une variable texte et une variable continue. C’est faux. Pour faire le résumer d’une variable texte: table(iris[,&quot;Species&quot;]) ## ## setosa versicolor virginica ## 50 50 50 3.3.4 Pour résumé On a les data.frame, on a les vector de différents types. On sait qu’on peut sélectionner les variables par l’intermédiaire de vecteurs. 3.4 Sélection des individus Intuitivement, comment sélectionner des individus ? Ca marche comme pour les variables, on utilise des vecteurs ? On veut les individus de 1 et 5. str(iris[c(1,5),]) ## &#39;data.frame&#39;: 2 obs. of 5 variables: ## $ Sepal.Length: num 5.1 5 ## $ Sepal.Width : num 3.5 3.6 ## $ Petal.Length: num 1.4 1.4 ## $ Petal.Width : num 0.2 0.2 ## $ Species : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 Attention à la place de la virgule. Cette fois on sélectionne des lignes. A gauche de la virgule pour des lignes et à droite pour les colonnes. C’est tout bon. On a vu qu’il y avait trois espèces. Si on veut sélectionner ceux qui sont du type versicolor ? On se rappele des vecteurs de logique: là où iris[,“Species”] vaudra versicolor on sélectionne et là où ce n’est pas versicolor on ne sélectionne pas. On ne va pas le faire à la main. On ne fait rien à la main sous R. especes &lt;- c(&quot;versicolor&quot;,&quot;truc&quot;,&quot;versicolor&quot;,&quot;setosa&quot;) especes ## [1] &quot;versicolor&quot; &quot;truc&quot; &quot;versicolor&quot; &quot;setosa&quot; especes==&quot;versicolor&quot; ## [1] TRUE FALSE TRUE FALSE On l’adapte pour notre cas : iris[,&quot;Species&quot;]==&quot;versicolor&quot; ## [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ## [20] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ## [39] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [58] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [77] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE ## [96] TRUE TRUE TRUE TRUE TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ## [115] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ## [134] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE Donc on indexe les individus : versicolor &lt;- iris[iris[,&quot;Species&quot;]==&quot;versicolor&quot;,] Faites un point pour voir si tout est conforme dans votre esprit sur la place des accolades, etc. En fait c’est le old-fashioned R. En fait ça commence à devenir compliqué, alors des gens on fait des fonctions qui génère des vecteurs… à partir de mots anglais. On va créer ainsi de gauche à droite des sous espaces pour ne retenir que ce qui nous intéresse. Exemple : from iris, filter Species==“versicolor”, require(tidyverse) iris |&gt; filter(Species==&quot;setosa&quot;) ## Sepal.Length Sepal.Width Petal.Length Petal.Width Species ## 1 5.1 3.5 1.4 0.2 setosa ## 2 4.9 3.0 1.4 0.2 setosa ## 3 4.7 3.2 1.3 0.2 setosa ## 4 4.6 3.1 1.5 0.2 setosa ## 5 5.0 3.6 1.4 0.2 setosa ## 6 5.4 3.9 1.7 0.4 setosa ## 7 4.6 3.4 1.4 0.3 setosa ## 8 5.0 3.4 1.5 0.2 setosa ## 9 4.4 2.9 1.4 0.2 setosa ## 10 4.9 3.1 1.5 0.1 setosa ## 11 5.4 3.7 1.5 0.2 setosa ## 12 4.8 3.4 1.6 0.2 setosa ## 13 4.8 3.0 1.4 0.1 setosa ## 14 4.3 3.0 1.1 0.1 setosa ## 15 5.8 4.0 1.2 0.2 setosa ## 16 5.7 4.4 1.5 0.4 setosa ## 17 5.4 3.9 1.3 0.4 setosa ## 18 5.1 3.5 1.4 0.3 setosa ## 19 5.7 3.8 1.7 0.3 setosa ## 20 5.1 3.8 1.5 0.3 setosa ## 21 5.4 3.4 1.7 0.2 setosa ## 22 5.1 3.7 1.5 0.4 setosa ## 23 4.6 3.6 1.0 0.2 setosa ## 24 5.1 3.3 1.7 0.5 setosa ## 25 4.8 3.4 1.9 0.2 setosa ## 26 5.0 3.0 1.6 0.2 setosa ## 27 5.0 3.4 1.6 0.4 setosa ## 28 5.2 3.5 1.5 0.2 setosa ## 29 5.2 3.4 1.4 0.2 setosa ## 30 4.7 3.2 1.6 0.2 setosa ## 31 4.8 3.1 1.6 0.2 setosa ## 32 5.4 3.4 1.5 0.4 setosa ## 33 5.2 4.1 1.5 0.1 setosa ## 34 5.5 4.2 1.4 0.2 setosa ## 35 4.9 3.1 1.5 0.2 setosa ## 36 5.0 3.2 1.2 0.2 setosa ## 37 5.5 3.5 1.3 0.2 setosa ## 38 4.9 3.6 1.4 0.1 setosa ## 39 4.4 3.0 1.3 0.2 setosa ## 40 5.1 3.4 1.5 0.2 setosa ## 41 5.0 3.5 1.3 0.3 setosa ## 42 4.5 2.3 1.3 0.3 setosa ## 43 4.4 3.2 1.3 0.2 setosa ## 44 5.0 3.5 1.6 0.6 setosa ## 45 5.1 3.8 1.9 0.4 setosa ## 46 4.8 3.0 1.4 0.3 setosa ## 47 5.1 3.8 1.6 0.2 setosa ## 48 4.6 3.2 1.4 0.2 setosa ## 49 5.3 3.7 1.5 0.2 setosa ## 50 5.0 3.3 1.4 0.2 setosa 3.4.1 Calcul de la moyenne et nouveaux générateurs Pour la moyenne des longueurs de sépales ? iris |&gt; summarise(moyenne=mean(Sepal.Length)) ## moyenne ## 1 5.843333 Ce qui devient : iris |&gt; filter(Species==&quot;setosa&quot;) |&gt; summarise(moyenne=mean(Sepal.Length)) ## moyenne ## 1 5.006 Mais y’a des choses plus pratique. iris |&gt; group_by(Species) |&gt; summarise(moyenne=mean(Sepal.Length)) ## # A tibble: 3 × 2 ## Species moyenne ## &lt;fct&gt; &lt;dbl&gt; ## 1 setosa 5.01 ## 2 versicolor 5.94 ## 3 virginica 6.59 quantile(iris[,&quot;Sepal.Length&quot;]) ## 0% 25% 50% 75% 100% ## 4.3 5.1 5.8 6.4 7.9 iris |&gt; group_by(Species) |&gt; summarise(moy.Sepal.Length=mean(Sepal.Length),ec=sd(Sepal.Length),mediane=quantile(Sepal.Length,probs=0.5)) ## # A tibble: 3 × 4 ## Species moy.Sepal.Length ec mediane ## &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 setosa 5.01 0.352 5 ## 2 versicolor 5.94 0.516 5.9 ## 3 virginica 6.59 0.636 6.5 iris |&gt; group_by(Species) |&gt; summarise(moy.Sepal.Length=mean(Sepal.Length),ec=sd(Sepal.Length),mediane=quantile(Sepal.Length,probs=0.5),q90=quantile(Sepal.Length,probs=0.9)) ## # A tibble: 3 × 5 ## Species moy.Sepal.Length ec mediane q90 ## &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 setosa 5.01 0.352 5 5.41 ## 2 versicolor 5.94 0.516 5.9 6.7 ## 3 virginica 6.59 0.636 6.5 7.61 Etc… Ah au fait c’est quoi comme vient de retourner ? str(iris |&gt; group_by(Species) |&gt; summarise(sepal.length=mean(Sepal.Length), sepal.width=mean(Sepal.Width))) ## tibble [3 × 3] (S3: tbl_df/tbl/data.frame) ## $ Species : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 2 3 ## $ sepal.length: num [1:3] 5.01 5.94 6.59 ## $ sepal.width : num [1:3] 3.43 2.77 2.97 Calculer la moyenne de toutes les colonnes sauf Species ? iris |&gt; group_by(Species) |&gt; summarise(across(Sepal.Length:Petal.Width,mean)) ## # A tibble: 3 × 5 ## Species Sepal.Length Sepal.Width Petal.Length Petal.Width ## &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 setosa 5.01 3.43 1.46 0.246 ## 2 versicolor 5.94 2.77 4.26 1.33 ## 3 virginica 6.59 2.97 5.55 2.03 "],["données-de-parcoursup.html", "Chapter 4 Données de Parcoursup", " Chapter 4 Données de Parcoursup Les données de ParcourSup viennent de là : Parcoursup 2023 - vœux de poursuite d’études et de réorientation dans l’enseignement supérieur et réponses des établissements sinon vous avez les métiers en tensions : Taux de pression et d’emploi pour les diplômes de la voie professionnelle En suivant les liens vous pouvez télécharger les fichiers Excel. Déplacer le fichier Excel à la racine de votre projet. puis library(readxl) parcours &lt;- read_excel(&quot;data/fr-esr-parcoursup.xlsx&quot;) ## New names: ## • `Filière de formation` -&gt; `Filière de formation...10` ## • `Filière de formation` -&gt; `Filière de formation...14` Je viens de créer une data.frame du nom de parcours avec le contenu du fichier Excel. Pour sélectionner les variables, utiliser le raccourci TAB. Pour charger un fichier SPSS, il faut aussi un paquet supplémentaire : require(haven) patient &lt;- read_sav(&quot;data/patient.sav&quot;) C’est le même paquet pour les formats SAS (sas7bdat) et STATA. On trouve le chargement des mêmes types de fichier dans le paquet foreign mais attention ce sont pour les vieux formats de fichiers. Par exemple pour SAS, il suffit de changer de fonction : patient &lt;- read_sas(&quot;patient.sas7bdat&quot;) Lors de l’import, de SAS, SPSS, il conserve le type de la variable. Quand on veux importer un fichier Excel ou un fichier texte, cela est différent. On va prendre l’exemple de fichier texte : l’importation se fait en fait en trois temps. library(readr) patient &lt;- read_csv(&quot;data/patient.csv&quot;) ## Rows: 200 Columns: 17 ## ── Column specification ───────────────────────────────────────────────────────────────────────────────────────────────── ## Delimiter: &quot;,&quot; ## chr (5): UID, Hopital, sexe, scoliose, drepano ## dbl (12): poids, vitaux, CIM2, age, dureeopmin, postopj, ACP, peridurale, periACP, nbttt, totalechelle, nbechelle ## ## ℹ Use `spec()` to retrieve the full column specification for this data. ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message. table(patient$scoliose) ## ## ante autre post ## 3 2 20 Dans un premier temps, la fonction read_csv va parcourir les 1000 premières lignes du fichier à la découverte de : - du séparateur entre les champs - du séparateur de décimales - le type de chaque colonne. Si par exemple il trouve que des chiffres dans une colonne, le type sera dbl. Par contre s’il trouve un mélange de charactères et de chiffres, là rien ne va plus. Ca peut se produire par exemple lorsque vous avez des chiffres mélangés à des valeurs manquantes qui sont représentés par des valeurs textes ou bien des symboles textuels. Les petites machines qui transforment les données en données typées sont des parser. Elles sont d’ailleurs disponible à part : str(parse_double(c(&quot;1.56&quot;, &quot;NA&quot;, &quot;NA&quot;))) ## num [1:3] 1.56 NA NA NA est reconnu comme valeur manquante alors pas de souci, le 1.56 est reconnu. et si on mettait 1,56 ? str(parse_double(c(&quot;1,56&quot;, &quot;NA&quot;, &quot;NA&quot;))) ## Warning: 1 parsing failure. ## row col expected actual ## 1 -- no trailing characters 1,56 ## num [1:3] NA NA NA ## - attr(*, &quot;problems&quot;)= tibble [1 × 4] (S3: tbl_df/tbl/data.frame) ## ..$ row : int 1 ## ..$ col : int NA ## ..$ expected: chr &quot;no trailing characters&quot; ## ..$ actual : chr &quot;1,56&quot; pas terrible ce qui suit : str(parse_double(c(&quot;1.56&quot;, &quot;NR&quot;, &quot;NR&quot;))) ## Warning: 2 parsing failures. ## row col expected actual ## 2 -- a double NR ## 3 -- a double NR ## num [1:3] 1.56 NA NA ## - attr(*, &quot;problems&quot;)= tibble [2 × 4] (S3: tbl_df/tbl/data.frame) ## ..$ row : int [1:2] 2 3 ## ..$ col : int [1:2] NA NA ## ..$ expected: chr [1:2] &quot;a double&quot; &quot;a double&quot; ## ..$ actual : chr [1:2] &quot;NR&quot; &quot;NR&quot; On rétablit la situation normale en mettant na = NR : str(parse_double(c(&quot;1.56&quot;, &quot;NA&quot;, &quot;NA&quot;),na = &quot;NR&quot;)) ## Warning: 2 parsing failures. ## row col expected actual ## 2 -- a double -- ## 3 -- a double -- ## num [1:3] 1.56 NA NA ## - attr(*, &quot;problems&quot;)= tibble [2 × 4] (S3: tbl_df/tbl/data.frame) ## ..$ row : int [1:2] 2 3 ## ..$ col : int [1:2] NA NA ## ..$ expected: chr [1:2] &quot;a double&quot; &quot;a double&quot; ## ..$ actual : chr [1:2] &quot;NA&quot; &quot;NA&quot; Dans la jungle des parsers, on a les parsers : - parse_logical() - parse_integer() - parse_double() - parse_character() - parse_number() - parse_factor() - parse_datetime() (may be the force with you) - … Si vous avez bien suivi, la machine va lire les n premières lignes et à chaque colonne essayer de deviner le type de variable et appeler le parser qui va bien : ce sont les fonctions guess_. Ceux sont eux qui vont décider du type de variable que vous importez. Pour le faire vous même, il suffit de spécificier chaque à la main : read_csv(&quot;data/iris.csv&quot;, col_types = list( Sepal.Length = col_double(), Sepal.Width = col_double(), Petal.Length = col_double(), Petal.Width = col_double(), Species = col_factor(c(&quot;setosa&quot;, &quot;versicolor&quot;, &quot;virginica&quot;)) )) ## Warning: The following named parsers don&#39;t match the column names: Sepal.Length, Sepal.Width, Petal.Length, Petal.Width, ## Species ## Warning: One or more parsing issues, call `problems()` on your data frame for details, e.g.: ## dat &lt;- vroom(...) ## problems(dat) ## # A tibble: 150 × 1 ## `Sepal.Length;Sepal.Width;Petal.Length;Petal.Width;Species` ## &lt;chr&gt; ## 1 5,1;3,5;1,4;NA;setosa ## 2 4,9;3;1,4;NA;setosa ## 3 4,7;3,2;1,3;NA;setosa ## 4 4,6;3,1;1,5;NA;setosa ## 5 5;3,6;1,4;NA;setosa ## 6 5,4;3,9;1,7;0,4;setosa ## 7 4,6;3,4;1,4;0,3;setosa ## 8 5;3,4;1,5;0,2;setosa ## 9 4,4;2,9;1,4;0,2;setosa ## 10 4,9;3,1;1,5;0,1;setosa ## # ℹ 140 more rows Sur cette ligne, c’est un peu complexe et surtout cela fait appel à deux élements que vous connaissez pas. Les lists et les factors. Un factor est un ensemble de valeurs fini : c’est comme ça que vous pouvez coder un ensemble de valeurs que vous pouvez énumérer et que vous utiliseriez par exemple dans une expérience. Par exemple, on peut avoir comme facteur : le nombre de cylindres de mtcars 4, 6 ou 8 les médicaments dans une expérience en double aveugle: A, B, C … L’idée est qu’un facteur est à utiliser dans une ANOVA (un test de différences de moyennes sur 1 à k groupes). La liste est une data.frame libertaire : par libértaire j’entends qu’on peut mettre n’importe objet et l’indexer (presque) comme une data.frame. a &lt;- list(iris,c(1,2,3),LETTERS,mtcars[,c(&quot;cyl&quot;,&quot;mpg&quot;)]) str(a) ## List of 4 ## $ :&#39;data.frame&#39;: 150 obs. of 5 variables: ## ..$ Sepal.Length: num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ... ## ..$ Sepal.Width : num [1:150] 3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ... ## ..$ Petal.Length: num [1:150] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ... ## ..$ Petal.Width : num [1:150] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ... ## ..$ Species : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ... ## $ : num [1:3] 1 2 3 ## $ : chr [1:26] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; ... ## $ :&#39;data.frame&#39;: 32 obs. of 2 variables: ## ..$ cyl: num [1:32] 6 6 4 6 8 6 8 4 4 6 ... ## ..$ mpg: num [1:32] 21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ... On voit que c’est un type list, les data.frame. "],["résumés-rapides-descriptives.html", "Chapter 5 Résumés rapides descriptives 5.1 Les premières tables 5.2 Tableaux croisés 5.3 Themes 5.4 Exportation 5.5 Personnalisation des statistiques 5.6 Modèles", " Chapter 5 Résumés rapides descriptives 5.1 Les premières tables library(gtsummary) tbl_summary(mtcars) #apznagjahn table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #apznagjahn thead, #apznagjahn tbody, #apznagjahn tfoot, #apznagjahn tr, #apznagjahn td, #apznagjahn th { border-style: none; } #apznagjahn p { margin: 0; padding: 0; } #apznagjahn .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #apznagjahn .gt_caption { padding-top: 4px; padding-bottom: 4px; } #apznagjahn .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #apznagjahn .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #apznagjahn .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #apznagjahn .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #apznagjahn .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #apznagjahn .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #apznagjahn .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #apznagjahn .gt_column_spanner_outer:first-child { padding-left: 0; } #apznagjahn .gt_column_spanner_outer:last-child { padding-right: 0; } #apznagjahn .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #apznagjahn .gt_spanner_row { border-bottom-style: hidden; } #apznagjahn .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #apznagjahn .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #apznagjahn .gt_from_md > :first-child { margin-top: 0; } #apznagjahn .gt_from_md > :last-child { margin-bottom: 0; } #apznagjahn .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #apznagjahn .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #apznagjahn .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #apznagjahn .gt_row_group_first td { border-top-width: 2px; } #apznagjahn .gt_row_group_first th { border-top-width: 2px; } #apznagjahn .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #apznagjahn .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #apznagjahn .gt_first_summary_row.thick { border-top-width: 2px; } #apznagjahn .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #apznagjahn .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #apznagjahn .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #apznagjahn .gt_last_grand_summary_row_top { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #apznagjahn .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #apznagjahn .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #apznagjahn .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #apznagjahn .gt_footnote { margin: 0px; font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #apznagjahn .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #apznagjahn .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #apznagjahn .gt_left { text-align: left; } #apznagjahn .gt_center { text-align: center; } #apznagjahn .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #apznagjahn .gt_font_normal { font-weight: normal; } #apznagjahn .gt_font_bold { font-weight: bold; } #apznagjahn .gt_font_italic { font-style: italic; } #apznagjahn .gt_super { font-size: 65%; } #apznagjahn .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #apznagjahn .gt_asterisk { font-size: 100%; vertical-align: 0; } #apznagjahn .gt_indent_1 { text-indent: 5px; } #apznagjahn .gt_indent_2 { text-indent: 10px; } #apznagjahn .gt_indent_3 { text-indent: 15px; } #apznagjahn .gt_indent_4 { text-indent: 20px; } #apznagjahn .gt_indent_5 { text-indent: 25px; } Characteristic N = 321 mpg 19.2 (15.4, 22.8) cyl     4 11 (34%)     6 7 (22%)     8 14 (44%) disp 196 (121, 326) hp 123 (97, 180) drat 3.70 (3.08, 3.92) wt 3.33 (2.58, 3.61) qsec 17.71 (16.89, 18.90) vs 14 (44%) am 13 (41%) gear     3 15 (47%)     4 12 (38%)     5 5 (16%) carb     1 7 (22%)     2 10 (31%)     3 3 (9.4%)     4 10 (31%)     6 1 (3.1%)     8 1 (3.1%) 1 Median (IQR); n (%) tbl_summary(iris) #isasrytcub table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #isasrytcub thead, #isasrytcub tbody, #isasrytcub tfoot, #isasrytcub tr, #isasrytcub td, #isasrytcub th { border-style: none; } #isasrytcub p { margin: 0; padding: 0; } #isasrytcub .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #isasrytcub .gt_caption { padding-top: 4px; padding-bottom: 4px; } #isasrytcub .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #isasrytcub .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #isasrytcub .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #isasrytcub .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #isasrytcub .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #isasrytcub .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #isasrytcub .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #isasrytcub .gt_column_spanner_outer:first-child { padding-left: 0; } #isasrytcub .gt_column_spanner_outer:last-child { padding-right: 0; } #isasrytcub .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #isasrytcub .gt_spanner_row { border-bottom-style: hidden; } #isasrytcub .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #isasrytcub .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #isasrytcub .gt_from_md > :first-child { margin-top: 0; } #isasrytcub .gt_from_md > :last-child { margin-bottom: 0; } #isasrytcub .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #isasrytcub .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #isasrytcub .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #isasrytcub .gt_row_group_first td { border-top-width: 2px; } #isasrytcub .gt_row_group_first th { border-top-width: 2px; } #isasrytcub .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #isasrytcub .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #isasrytcub .gt_first_summary_row.thick { border-top-width: 2px; } #isasrytcub .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #isasrytcub .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #isasrytcub .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #isasrytcub .gt_last_grand_summary_row_top { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #isasrytcub .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #isasrytcub .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #isasrytcub .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #isasrytcub .gt_footnote { margin: 0px; font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #isasrytcub .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #isasrytcub .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #isasrytcub .gt_left { text-align: left; } #isasrytcub .gt_center { text-align: center; } #isasrytcub .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #isasrytcub .gt_font_normal { font-weight: normal; } #isasrytcub .gt_font_bold { font-weight: bold; } #isasrytcub .gt_font_italic { font-style: italic; } #isasrytcub .gt_super { font-size: 65%; } #isasrytcub .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #isasrytcub .gt_asterisk { font-size: 100%; vertical-align: 0; } #isasrytcub .gt_indent_1 { text-indent: 5px; } #isasrytcub .gt_indent_2 { text-indent: 10px; } #isasrytcub .gt_indent_3 { text-indent: 15px; } #isasrytcub .gt_indent_4 { text-indent: 20px; } #isasrytcub .gt_indent_5 { text-indent: 25px; } Characteristic N = 1501 Sepal.Length 5.80 (5.10, 6.40) Sepal.Width 3.00 (2.80, 3.30) Petal.Length 4.35 (1.60, 5.10) Petal.Width 1.30 (0.30, 1.80) Species     setosa 50 (33%)     versicolor 50 (33%)     virginica 50 (33%) 1 Median (IQR); n (%) Plus fort, tbl_summary(iris,by=&quot;Species&quot;) #miwvgarneu table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #miwvgarneu thead, #miwvgarneu tbody, #miwvgarneu tfoot, #miwvgarneu tr, #miwvgarneu td, #miwvgarneu th { border-style: none; } #miwvgarneu p { margin: 0; padding: 0; } #miwvgarneu .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #miwvgarneu .gt_caption { padding-top: 4px; padding-bottom: 4px; } #miwvgarneu .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #miwvgarneu .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #miwvgarneu .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #miwvgarneu .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #miwvgarneu .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #miwvgarneu .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #miwvgarneu .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #miwvgarneu .gt_column_spanner_outer:first-child { padding-left: 0; } #miwvgarneu .gt_column_spanner_outer:last-child { padding-right: 0; } #miwvgarneu .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #miwvgarneu .gt_spanner_row { border-bottom-style: hidden; } #miwvgarneu .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #miwvgarneu .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #miwvgarneu .gt_from_md > :first-child { margin-top: 0; } #miwvgarneu .gt_from_md > :last-child { margin-bottom: 0; } #miwvgarneu .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #miwvgarneu .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #miwvgarneu .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #miwvgarneu .gt_row_group_first td { border-top-width: 2px; } #miwvgarneu .gt_row_group_first th { border-top-width: 2px; } #miwvgarneu .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #miwvgarneu .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #miwvgarneu .gt_first_summary_row.thick { border-top-width: 2px; } #miwvgarneu .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #miwvgarneu .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #miwvgarneu .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #miwvgarneu .gt_last_grand_summary_row_top { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #miwvgarneu .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #miwvgarneu .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #miwvgarneu .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #miwvgarneu .gt_footnote { margin: 0px; font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #miwvgarneu .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #miwvgarneu .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #miwvgarneu .gt_left { text-align: left; } #miwvgarneu .gt_center { text-align: center; } #miwvgarneu .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #miwvgarneu .gt_font_normal { font-weight: normal; } #miwvgarneu .gt_font_bold { font-weight: bold; } #miwvgarneu .gt_font_italic { font-style: italic; } #miwvgarneu .gt_super { font-size: 65%; } #miwvgarneu .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #miwvgarneu .gt_asterisk { font-size: 100%; vertical-align: 0; } #miwvgarneu .gt_indent_1 { text-indent: 5px; } #miwvgarneu .gt_indent_2 { text-indent: 10px; } #miwvgarneu .gt_indent_3 { text-indent: 15px; } #miwvgarneu .gt_indent_4 { text-indent: 20px; } #miwvgarneu .gt_indent_5 { text-indent: 25px; } Characteristic setosa, N = 501 versicolor, N = 501 virginica, N = 501 Sepal.Length 5.00 (4.80, 5.20) 5.90 (5.60, 6.30) 6.50 (6.23, 6.90) Sepal.Width 3.40 (3.20, 3.68) 2.80 (2.53, 3.00) 3.00 (2.80, 3.18) Petal.Length 1.50 (1.40, 1.58) 4.35 (4.00, 4.60) 5.55 (5.10, 5.88) Petal.Width 0.20 (0.20, 0.30) 1.30 (1.20, 1.50) 2.00 (1.80, 2.30) 1 Median (IQR) On peut rajouter un test statistique: tbl_summary(iris,by=&quot;Species&quot; ) %&gt;% add_p() %&gt;% add_overall() #wtsvckpfpr table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #wtsvckpfpr thead, #wtsvckpfpr tbody, #wtsvckpfpr tfoot, #wtsvckpfpr tr, #wtsvckpfpr td, #wtsvckpfpr th { border-style: none; } #wtsvckpfpr p { margin: 0; padding: 0; } #wtsvckpfpr .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #wtsvckpfpr .gt_caption { padding-top: 4px; padding-bottom: 4px; } #wtsvckpfpr .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #wtsvckpfpr .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #wtsvckpfpr .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #wtsvckpfpr .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #wtsvckpfpr .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #wtsvckpfpr .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #wtsvckpfpr .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #wtsvckpfpr .gt_column_spanner_outer:first-child { padding-left: 0; } #wtsvckpfpr .gt_column_spanner_outer:last-child { padding-right: 0; } #wtsvckpfpr .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #wtsvckpfpr .gt_spanner_row { border-bottom-style: hidden; } #wtsvckpfpr .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #wtsvckpfpr .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #wtsvckpfpr .gt_from_md > :first-child { margin-top: 0; } #wtsvckpfpr .gt_from_md > :last-child { margin-bottom: 0; } #wtsvckpfpr .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #wtsvckpfpr .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #wtsvckpfpr .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #wtsvckpfpr .gt_row_group_first td { border-top-width: 2px; } #wtsvckpfpr .gt_row_group_first th { border-top-width: 2px; } #wtsvckpfpr .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #wtsvckpfpr .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #wtsvckpfpr .gt_first_summary_row.thick { border-top-width: 2px; } #wtsvckpfpr .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #wtsvckpfpr .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #wtsvckpfpr .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #wtsvckpfpr .gt_last_grand_summary_row_top { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #wtsvckpfpr .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #wtsvckpfpr .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #wtsvckpfpr .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #wtsvckpfpr .gt_footnote { margin: 0px; font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #wtsvckpfpr .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #wtsvckpfpr .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #wtsvckpfpr .gt_left { text-align: left; } #wtsvckpfpr .gt_center { text-align: center; } #wtsvckpfpr .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #wtsvckpfpr .gt_font_normal { font-weight: normal; } #wtsvckpfpr .gt_font_bold { font-weight: bold; } #wtsvckpfpr .gt_font_italic { font-style: italic; } #wtsvckpfpr .gt_super { font-size: 65%; } #wtsvckpfpr .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #wtsvckpfpr .gt_asterisk { font-size: 100%; vertical-align: 0; } #wtsvckpfpr .gt_indent_1 { text-indent: 5px; } #wtsvckpfpr .gt_indent_2 { text-indent: 10px; } #wtsvckpfpr .gt_indent_3 { text-indent: 15px; } #wtsvckpfpr .gt_indent_4 { text-indent: 20px; } #wtsvckpfpr .gt_indent_5 { text-indent: 25px; } Characteristic Overall, N = 1501 setosa, N = 501 versicolor, N = 501 virginica, N = 501 p-value2 Sepal.Length 5.80 (5.10, 6.40) 5.00 (4.80, 5.20) 5.90 (5.60, 6.30) 6.50 (6.23, 6.90) Sepal.Width 3.00 (2.80, 3.30) 3.40 (3.20, 3.68) 2.80 (2.53, 3.00) 3.00 (2.80, 3.18) Petal.Length 4.35 (1.60, 5.10) 1.50 (1.40, 1.58) 4.35 (4.00, 4.60) 5.55 (5.10, 5.88) Petal.Width 1.30 (0.30, 1.80) 0.20 (0.20, 0.30) 1.30 (1.20, 1.50) 2.00 (1.80, 2.30) 1 Median (IQR) 2 Kruskal-Wallis rank sum test trial %&gt;% tbl_cross(row = stage, col = trt, percent = &quot;cell&quot;) %&gt;% add_p() %&gt;% bold_labels() #ruztuvguwc table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #ruztuvguwc thead, #ruztuvguwc tbody, #ruztuvguwc tfoot, #ruztuvguwc tr, #ruztuvguwc td, #ruztuvguwc th { border-style: none; } #ruztuvguwc p { margin: 0; padding: 0; } #ruztuvguwc .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #ruztuvguwc .gt_caption { padding-top: 4px; padding-bottom: 4px; } #ruztuvguwc .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #ruztuvguwc .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #ruztuvguwc .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #ruztuvguwc .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ruztuvguwc .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #ruztuvguwc .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #ruztuvguwc .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #ruztuvguwc .gt_column_spanner_outer:first-child { padding-left: 0; } #ruztuvguwc .gt_column_spanner_outer:last-child { padding-right: 0; } #ruztuvguwc .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #ruztuvguwc .gt_spanner_row { border-bottom-style: hidden; } #ruztuvguwc .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #ruztuvguwc .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #ruztuvguwc .gt_from_md > :first-child { margin-top: 0; } #ruztuvguwc .gt_from_md > :last-child { margin-bottom: 0; } #ruztuvguwc .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #ruztuvguwc .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #ruztuvguwc .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #ruztuvguwc .gt_row_group_first td { border-top-width: 2px; } #ruztuvguwc .gt_row_group_first th { border-top-width: 2px; } #ruztuvguwc .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #ruztuvguwc .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #ruztuvguwc .gt_first_summary_row.thick { border-top-width: 2px; } #ruztuvguwc .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ruztuvguwc .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #ruztuvguwc .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #ruztuvguwc .gt_last_grand_summary_row_top { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #ruztuvguwc .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #ruztuvguwc .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ruztuvguwc .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #ruztuvguwc .gt_footnote { margin: 0px; font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #ruztuvguwc .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #ruztuvguwc .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #ruztuvguwc .gt_left { text-align: left; } #ruztuvguwc .gt_center { text-align: center; } #ruztuvguwc .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #ruztuvguwc .gt_font_normal { font-weight: normal; } #ruztuvguwc .gt_font_bold { font-weight: bold; } #ruztuvguwc .gt_font_italic { font-style: italic; } #ruztuvguwc .gt_super { font-size: 65%; } #ruztuvguwc .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #ruztuvguwc .gt_asterisk { font-size: 100%; vertical-align: 0; } #ruztuvguwc .gt_indent_1 { text-indent: 5px; } #ruztuvguwc .gt_indent_2 { text-indent: 10px; } #ruztuvguwc .gt_indent_3 { text-indent: 15px; } #ruztuvguwc .gt_indent_4 { text-indent: 20px; } #ruztuvguwc .gt_indent_5 { text-indent: 25px; } Chemotherapy Treatment Total p-value1 Drug A Drug B T Stage 0.9     T1 28 (14%) 25 (13%) 53 (27%)     T2 25 (13%) 29 (15%) 54 (27%)     T3 22 (11%) 21 (11%) 43 (22%)     T4 23 (12%) 27 (14%) 50 (25%) Total 98 (49%) 102 (51%) 200 (100%) 1 Pearson’s Chi-squared test 5.2 Tableaux croisés On peut faire des tris croisés et choisir le sens des pourcentages : par cellule, par ligne ou par colonne. patient %&gt;% tbl_cross(row = Hopital, col = sexe, percent = &quot;col&quot;) %&gt;% add_p() %&gt;% bold_labels() #tcpncwjmqe table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #tcpncwjmqe thead, #tcpncwjmqe tbody, #tcpncwjmqe tfoot, #tcpncwjmqe tr, #tcpncwjmqe td, #tcpncwjmqe th { border-style: none; } #tcpncwjmqe p { margin: 0; padding: 0; } #tcpncwjmqe .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #tcpncwjmqe .gt_caption { padding-top: 4px; padding-bottom: 4px; } #tcpncwjmqe .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #tcpncwjmqe .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #tcpncwjmqe .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #tcpncwjmqe .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #tcpncwjmqe .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #tcpncwjmqe .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #tcpncwjmqe .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #tcpncwjmqe .gt_column_spanner_outer:first-child { padding-left: 0; } #tcpncwjmqe .gt_column_spanner_outer:last-child { padding-right: 0; } #tcpncwjmqe .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #tcpncwjmqe .gt_spanner_row { border-bottom-style: hidden; } #tcpncwjmqe .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #tcpncwjmqe .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #tcpncwjmqe .gt_from_md > :first-child { margin-top: 0; } #tcpncwjmqe .gt_from_md > :last-child { margin-bottom: 0; } #tcpncwjmqe .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #tcpncwjmqe .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #tcpncwjmqe .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #tcpncwjmqe .gt_row_group_first td { border-top-width: 2px; } #tcpncwjmqe .gt_row_group_first th { border-top-width: 2px; } #tcpncwjmqe .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #tcpncwjmqe .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #tcpncwjmqe .gt_first_summary_row.thick { border-top-width: 2px; } #tcpncwjmqe .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #tcpncwjmqe .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #tcpncwjmqe .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #tcpncwjmqe .gt_last_grand_summary_row_top { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #tcpncwjmqe .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #tcpncwjmqe .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #tcpncwjmqe .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #tcpncwjmqe .gt_footnote { margin: 0px; font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #tcpncwjmqe .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #tcpncwjmqe .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #tcpncwjmqe .gt_left { text-align: left; } #tcpncwjmqe .gt_center { text-align: center; } #tcpncwjmqe .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #tcpncwjmqe .gt_font_normal { font-weight: normal; } #tcpncwjmqe .gt_font_bold { font-weight: bold; } #tcpncwjmqe .gt_font_italic { font-style: italic; } #tcpncwjmqe .gt_super { font-size: 65%; } #tcpncwjmqe .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #tcpncwjmqe .gt_asterisk { font-size: 100%; vertical-align: 0; } #tcpncwjmqe .gt_indent_1 { text-indent: 5px; } #tcpncwjmqe .gt_indent_2 { text-indent: 10px; } #tcpncwjmqe .gt_indent_3 { text-indent: 15px; } #tcpncwjmqe .gt_indent_4 { text-indent: 20px; } #tcpncwjmqe .gt_indent_5 { text-indent: 25px; } sexe Total p-value1 Feminin Masculin Hopital 0.007     A 48 (42%) 52 (61%) 100 (50%)     B 67 (58%) 33 (39%) 100 (50%) Total 115 (100%) 85 (100%) 200 (100%) 1 Pearson’s Chi-squared test 5.3 Themes theme_gtsummary_compact(set_theme = TRUE, font_size = NULL) ## Setting theme `Compact` patient %&gt;% tbl_cross(row = Hopital, col = sexe, percent = &quot;col&quot;) %&gt;% add_p() %&gt;% bold_labels() #vqupsodsoo table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #vqupsodsoo thead, #vqupsodsoo tbody, #vqupsodsoo tfoot, #vqupsodsoo tr, #vqupsodsoo td, #vqupsodsoo th { border-style: none; } #vqupsodsoo p { margin: 0; padding: 0; } #vqupsodsoo .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 13px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #vqupsodsoo .gt_caption { padding-top: 4px; padding-bottom: 4px; } #vqupsodsoo .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #vqupsodsoo .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #vqupsodsoo .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #vqupsodsoo .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #vqupsodsoo .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #vqupsodsoo .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #vqupsodsoo .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #vqupsodsoo .gt_column_spanner_outer:first-child { padding-left: 0; } #vqupsodsoo .gt_column_spanner_outer:last-child { padding-right: 0; } #vqupsodsoo .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #vqupsodsoo .gt_spanner_row { border-bottom-style: hidden; } #vqupsodsoo .gt_group_heading { padding-top: 1px; padding-bottom: 1px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #vqupsodsoo .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #vqupsodsoo .gt_from_md > :first-child { margin-top: 0; } #vqupsodsoo .gt_from_md > :last-child { margin-bottom: 0; } #vqupsodsoo .gt_row { padding-top: 1px; padding-bottom: 1px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #vqupsodsoo .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #vqupsodsoo .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #vqupsodsoo .gt_row_group_first td { border-top-width: 2px; } #vqupsodsoo .gt_row_group_first th { border-top-width: 2px; } #vqupsodsoo .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 1px; padding-bottom: 1px; padding-left: 5px; padding-right: 5px; } #vqupsodsoo .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #vqupsodsoo .gt_first_summary_row.thick { border-top-width: 2px; } #vqupsodsoo .gt_last_summary_row { padding-top: 1px; padding-bottom: 1px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #vqupsodsoo .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 1px; padding-bottom: 1px; padding-left: 5px; padding-right: 5px; } #vqupsodsoo .gt_first_grand_summary_row { padding-top: 1px; padding-bottom: 1px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #vqupsodsoo .gt_last_grand_summary_row_top { padding-top: 1px; padding-bottom: 1px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #vqupsodsoo .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #vqupsodsoo .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #vqupsodsoo .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #vqupsodsoo .gt_footnote { margin: 0px; font-size: 90%; padding-top: 1px; padding-bottom: 1px; padding-left: 5px; padding-right: 5px; } #vqupsodsoo .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #vqupsodsoo .gt_sourcenote { font-size: 90%; padding-top: 1px; padding-bottom: 1px; padding-left: 5px; padding-right: 5px; } #vqupsodsoo .gt_left { text-align: left; } #vqupsodsoo .gt_center { text-align: center; } #vqupsodsoo .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #vqupsodsoo .gt_font_normal { font-weight: normal; } #vqupsodsoo .gt_font_bold { font-weight: bold; } #vqupsodsoo .gt_font_italic { font-style: italic; } #vqupsodsoo .gt_super { font-size: 65%; } #vqupsodsoo .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #vqupsodsoo .gt_asterisk { font-size: 100%; vertical-align: 0; } #vqupsodsoo .gt_indent_1 { text-indent: 5px; } #vqupsodsoo .gt_indent_2 { text-indent: 10px; } #vqupsodsoo .gt_indent_3 { text-indent: 15px; } #vqupsodsoo .gt_indent_4 { text-indent: 20px; } #vqupsodsoo .gt_indent_5 { text-indent: 25px; } sexe Total p-value1 Feminin Masculin Hopital 0.007     A 48 (42%) 52 (61%) 100 (50%)     B 67 (58%) 33 (39%) 100 (50%) Total 115 (100%) 85 (100%) 200 (100%) 1 Pearson’s Chi-squared test reset_gtsummary_theme() 5.4 Exportation Pour les exporter avec le paquet writexl : iris %&gt;% tbl_summary(by=Species) %&gt;% gtsummary::as_tibble() %&gt;% writexl::write_xlsx(., &quot;example_gtsummary1.xlsx&quot;) Sinon iris %&gt;% tbl_summary(by=Species) %&gt;% gtsummary::as_gt() %&gt;% gt::gtsave(., &quot;example_gtsummary3.rtf&quot;) 5.5 Personnalisation des statistiques Sans qu’il soit nécessaire de fonction, vous pouvez personnaliser les sortie. Il suffit de changer la valeur de statistic. Les mots-clefs sont, pour les variables quantitatives et qualtitatives : - {N_obs} total number of observations - {N_miss} number of missing observations - {N_nonmiss} number of non-missing observations - {p_miss} percentage of observations missing - {p_nonmiss} percentage of observations not missing Pour les variables quantitatives : - {mean} - {median} - {sd} - les quantiles {pDD} avec DD un chiffre sur 100 comme {p25} - {min} - {max} Pour les variables qualitatives : - {p} le pourcentage - {n}, nombre d’observations dans la cellule - nombre total {N} Il suffit alors de préciser les statistiques à afficher : iris %&gt;% tbl_summary(statistic = list( all_continuous() ~ &quot;{mean} ({sd}) {min} {max}&quot;, all_categorical() ~ &quot;{n} / {N} ({p}%)&quot;)) %&gt;% modify_footnote( all_stat_cols() ~ &quot;Moyenne (EC) Min. Max.; Effectif cellule / Total (%)&quot;) #umcedzrjhn table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #umcedzrjhn thead, #umcedzrjhn tbody, #umcedzrjhn tfoot, #umcedzrjhn tr, #umcedzrjhn td, #umcedzrjhn th { border-style: none; } #umcedzrjhn p { margin: 0; padding: 0; } #umcedzrjhn .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #umcedzrjhn .gt_caption { padding-top: 4px; padding-bottom: 4px; } #umcedzrjhn .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #umcedzrjhn .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #umcedzrjhn .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #umcedzrjhn .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #umcedzrjhn .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #umcedzrjhn .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #umcedzrjhn .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #umcedzrjhn .gt_column_spanner_outer:first-child { padding-left: 0; } #umcedzrjhn .gt_column_spanner_outer:last-child { padding-right: 0; } #umcedzrjhn .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #umcedzrjhn .gt_spanner_row { border-bottom-style: hidden; } #umcedzrjhn .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #umcedzrjhn .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #umcedzrjhn .gt_from_md > :first-child { margin-top: 0; } #umcedzrjhn .gt_from_md > :last-child { margin-bottom: 0; } #umcedzrjhn .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #umcedzrjhn .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #umcedzrjhn .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #umcedzrjhn .gt_row_group_first td { border-top-width: 2px; } #umcedzrjhn .gt_row_group_first th { border-top-width: 2px; } #umcedzrjhn .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #umcedzrjhn .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #umcedzrjhn .gt_first_summary_row.thick { border-top-width: 2px; } #umcedzrjhn .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #umcedzrjhn .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #umcedzrjhn .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #umcedzrjhn .gt_last_grand_summary_row_top { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #umcedzrjhn .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #umcedzrjhn .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #umcedzrjhn .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #umcedzrjhn .gt_footnote { margin: 0px; font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #umcedzrjhn .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #umcedzrjhn .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #umcedzrjhn .gt_left { text-align: left; } #umcedzrjhn .gt_center { text-align: center; } #umcedzrjhn .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #umcedzrjhn .gt_font_normal { font-weight: normal; } #umcedzrjhn .gt_font_bold { font-weight: bold; } #umcedzrjhn .gt_font_italic { font-style: italic; } #umcedzrjhn .gt_super { font-size: 65%; } #umcedzrjhn .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #umcedzrjhn .gt_asterisk { font-size: 100%; vertical-align: 0; } #umcedzrjhn .gt_indent_1 { text-indent: 5px; } #umcedzrjhn .gt_indent_2 { text-indent: 10px; } #umcedzrjhn .gt_indent_3 { text-indent: 15px; } #umcedzrjhn .gt_indent_4 { text-indent: 20px; } #umcedzrjhn .gt_indent_5 { text-indent: 25px; } Characteristic N = 1501 Sepal.Length 5.84 (0.83) 4.30 7.90 Sepal.Width 3.06 (0.44) 2.00 4.40 Petal.Length 3.76 (1.77) 1.00 6.90 Petal.Width 1.20 (0.76) 0.10 2.50 Species     setosa 50 / 150 (33%)     versicolor 50 / 150 (33%)     virginica 50 / 150 (33%) 1 Moyenne (EC) Min. Max.; Effectif cellule / Total (%) Vous pouvez également le faire sur plusieurs lignes en spécifiant que vous voulez les statistiques sur plusieurs lignes avec un argument supplémentaire : iris %&gt;% tbl_summary( type = all_continuous() ~ &quot;continuous2&quot;, statistic = list(all_continuous() ~ c( &quot;{N_nonmiss}&quot;, &quot;{mean} ({sd})&quot;, &quot;{median} ({p25}, {p75})&quot;, &quot;{min}, {max}&quot; ), all_categorical() ~ &quot;{n} / {N} ({p}%)&quot;)) #cpadfkgbmt table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #cpadfkgbmt thead, #cpadfkgbmt tbody, #cpadfkgbmt tfoot, #cpadfkgbmt tr, #cpadfkgbmt td, #cpadfkgbmt th { border-style: none; } #cpadfkgbmt p { margin: 0; padding: 0; } #cpadfkgbmt .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #cpadfkgbmt .gt_caption { padding-top: 4px; padding-bottom: 4px; } #cpadfkgbmt .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #cpadfkgbmt .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #cpadfkgbmt .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #cpadfkgbmt .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #cpadfkgbmt .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #cpadfkgbmt .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #cpadfkgbmt .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #cpadfkgbmt .gt_column_spanner_outer:first-child { padding-left: 0; } #cpadfkgbmt .gt_column_spanner_outer:last-child { padding-right: 0; } #cpadfkgbmt .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #cpadfkgbmt .gt_spanner_row { border-bottom-style: hidden; } #cpadfkgbmt .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #cpadfkgbmt .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #cpadfkgbmt .gt_from_md > :first-child { margin-top: 0; } #cpadfkgbmt .gt_from_md > :last-child { margin-bottom: 0; } #cpadfkgbmt .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #cpadfkgbmt .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #cpadfkgbmt .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #cpadfkgbmt .gt_row_group_first td { border-top-width: 2px; } #cpadfkgbmt .gt_row_group_first th { border-top-width: 2px; } #cpadfkgbmt .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #cpadfkgbmt .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #cpadfkgbmt .gt_first_summary_row.thick { border-top-width: 2px; } #cpadfkgbmt .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #cpadfkgbmt .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #cpadfkgbmt .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #cpadfkgbmt .gt_last_grand_summary_row_top { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #cpadfkgbmt .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #cpadfkgbmt .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #cpadfkgbmt .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #cpadfkgbmt .gt_footnote { margin: 0px; font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #cpadfkgbmt .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #cpadfkgbmt .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #cpadfkgbmt .gt_left { text-align: left; } #cpadfkgbmt .gt_center { text-align: center; } #cpadfkgbmt .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #cpadfkgbmt .gt_font_normal { font-weight: normal; } #cpadfkgbmt .gt_font_bold { font-weight: bold; } #cpadfkgbmt .gt_font_italic { font-style: italic; } #cpadfkgbmt .gt_super { font-size: 65%; } #cpadfkgbmt .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #cpadfkgbmt .gt_asterisk { font-size: 100%; vertical-align: 0; } #cpadfkgbmt .gt_indent_1 { text-indent: 5px; } #cpadfkgbmt .gt_indent_2 { text-indent: 10px; } #cpadfkgbmt .gt_indent_3 { text-indent: 15px; } #cpadfkgbmt .gt_indent_4 { text-indent: 20px; } #cpadfkgbmt .gt_indent_5 { text-indent: 25px; } Characteristic N = 1501 Sepal.Length     N 150     Mean (SD) 5.84 (0.83)     Median (IQR) 5.80 (5.10, 6.40)     Range 4.30, 7.90 Sepal.Width     N 150     Mean (SD) 3.06 (0.44)     Median (IQR) 3.00 (2.80, 3.30)     Range 2.00, 4.40 Petal.Length     N 150     Mean (SD) 3.76 (1.77)     Median (IQR) 4.35 (1.60, 5.10)     Range 1.00, 6.90 Petal.Width     N 150     Mean (SD) 1.20 (0.76)     Median (IQR) 1.30 (0.30, 1.80)     Range 0.10, 2.50 Species     setosa 50 / 150 (33%)     versicolor 50 / 150 (33%)     virginica 50 / 150 (33%) 1 n / N (%) Vous pouvez de même personnaliser en adaptant la langue : theme_gtsummary_language(language = &quot;fr&quot;, decimal.mark = &quot;,&quot;, big.mark = &quot; &quot;) ## Setting theme `language: fr` iris %&gt;% tbl_summary( type = all_continuous() ~ &quot;continuous2&quot;, statistic = list(all_continuous() ~ c( &quot;{N_nonmiss}&quot;, &quot;{mean} ({sd})&quot;, &quot;{median} ({p25}, {p75})&quot;, &quot;{min}, {max}&quot; ), all_categorical() ~ &quot;{n} / {N} ({p}%)&quot;)) #bcsnpnlwhg table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #bcsnpnlwhg thead, #bcsnpnlwhg tbody, #bcsnpnlwhg tfoot, #bcsnpnlwhg tr, #bcsnpnlwhg td, #bcsnpnlwhg th { border-style: none; } #bcsnpnlwhg p { margin: 0; padding: 0; } #bcsnpnlwhg .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #bcsnpnlwhg .gt_caption { padding-top: 4px; padding-bottom: 4px; } #bcsnpnlwhg .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #bcsnpnlwhg .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #bcsnpnlwhg .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #bcsnpnlwhg .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #bcsnpnlwhg .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #bcsnpnlwhg .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #bcsnpnlwhg .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #bcsnpnlwhg .gt_column_spanner_outer:first-child { padding-left: 0; } #bcsnpnlwhg .gt_column_spanner_outer:last-child { padding-right: 0; } #bcsnpnlwhg .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #bcsnpnlwhg .gt_spanner_row { border-bottom-style: hidden; } #bcsnpnlwhg .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #bcsnpnlwhg .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #bcsnpnlwhg .gt_from_md > :first-child { margin-top: 0; } #bcsnpnlwhg .gt_from_md > :last-child { margin-bottom: 0; } #bcsnpnlwhg .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #bcsnpnlwhg .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #bcsnpnlwhg .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #bcsnpnlwhg .gt_row_group_first td { border-top-width: 2px; } #bcsnpnlwhg .gt_row_group_first th { border-top-width: 2px; } #bcsnpnlwhg .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #bcsnpnlwhg .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #bcsnpnlwhg .gt_first_summary_row.thick { border-top-width: 2px; } #bcsnpnlwhg .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #bcsnpnlwhg .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #bcsnpnlwhg .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #bcsnpnlwhg .gt_last_grand_summary_row_top { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #bcsnpnlwhg .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #bcsnpnlwhg .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #bcsnpnlwhg .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #bcsnpnlwhg .gt_footnote { margin: 0px; font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #bcsnpnlwhg .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #bcsnpnlwhg .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #bcsnpnlwhg .gt_left { text-align: left; } #bcsnpnlwhg .gt_center { text-align: center; } #bcsnpnlwhg .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #bcsnpnlwhg .gt_font_normal { font-weight: normal; } #bcsnpnlwhg .gt_font_bold { font-weight: bold; } #bcsnpnlwhg .gt_font_italic { font-style: italic; } #bcsnpnlwhg .gt_super { font-size: 65%; } #bcsnpnlwhg .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #bcsnpnlwhg .gt_asterisk { font-size: 100%; vertical-align: 0; } #bcsnpnlwhg .gt_indent_1 { text-indent: 5px; } #bcsnpnlwhg .gt_indent_2 { text-indent: 10px; } #bcsnpnlwhg .gt_indent_3 { text-indent: 15px; } #bcsnpnlwhg .gt_indent_4 { text-indent: 20px; } #bcsnpnlwhg .gt_indent_5 { text-indent: 25px; } Caractéristique N = 1501 Sepal.Length     N 150     Moyenne (ET) 5,84 (0,83)     Médiane (EI) 5,80 (5,10, 6,40)     Étendue 4,30, 7,90 Sepal.Width     N 150     Moyenne (ET) 3,06 (0,44)     Médiane (EI) 3,00 (2,80, 3,30)     Étendue 2,00, 4,40 Petal.Length     N 150     Moyenne (ET) 3,76 (1,77)     Médiane (EI) 4,35 (1,60, 5,10)     Étendue 1,00, 6,90 Petal.Width     N 150     Moyenne (ET) 1,20 (0,76)     Médiane (EI) 1,30 (0,30, 1,80)     Étendue 0,10, 2,50 Species     setosa 50 / 150 (33%)     versicolor 50 / 150 (33%)     virginica 50 / 150 (33%) 1 n / N (%) 5.6 Modèles 5.6.1 Exemple de modèle de régression linéaire On peut faire aussi des modèles avec gtsummary : tbl_merge(list( tbl_regression( lm(totalechelle~sexe+vitaux+dureeopmin,data=patient[patient$Hopital==&quot;A&quot;,]) ), tbl_regression( lm(totalechelle~sexe+vitaux+dureeopmin,data=patient[patient$Hopital==&quot;B&quot;,]) )) ) #ldgjbnlsyi table { font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; } #ldgjbnlsyi thead, #ldgjbnlsyi tbody, #ldgjbnlsyi tfoot, #ldgjbnlsyi tr, #ldgjbnlsyi td, #ldgjbnlsyi th { border-style: none; } #ldgjbnlsyi p { margin: 0; padding: 0; } #ldgjbnlsyi .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; } #ldgjbnlsyi .gt_caption { padding-top: 4px; padding-bottom: 4px; } #ldgjbnlsyi .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; } #ldgjbnlsyi .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; } #ldgjbnlsyi .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #ldgjbnlsyi .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ldgjbnlsyi .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; } #ldgjbnlsyi .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 6px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; } #ldgjbnlsyi .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; } #ldgjbnlsyi .gt_column_spanner_outer:first-child { padding-left: 0; } #ldgjbnlsyi .gt_column_spanner_outer:last-child { padding-right: 0; } #ldgjbnlsyi .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; } #ldgjbnlsyi .gt_spanner_row { border-bottom-style: hidden; } #ldgjbnlsyi .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; } #ldgjbnlsyi .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; } #ldgjbnlsyi .gt_from_md > :first-child { margin-top: 0; } #ldgjbnlsyi .gt_from_md > :last-child { margin-bottom: 0; } #ldgjbnlsyi .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; } #ldgjbnlsyi .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; } #ldgjbnlsyi .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; } #ldgjbnlsyi .gt_row_group_first td { border-top-width: 2px; } #ldgjbnlsyi .gt_row_group_first th { border-top-width: 2px; } #ldgjbnlsyi .gt_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #ldgjbnlsyi .gt_first_summary_row { border-top-style: solid; border-top-color: #D3D3D3; } #ldgjbnlsyi .gt_first_summary_row.thick { border-top-width: 2px; } #ldgjbnlsyi .gt_last_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ldgjbnlsyi .gt_grand_summary_row { color: #333333; background-color: #FFFFFF; text-transform: inherit; padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; } #ldgjbnlsyi .gt_first_grand_summary_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-top-style: double; border-top-width: 6px; border-top-color: #D3D3D3; } #ldgjbnlsyi .gt_last_grand_summary_row_top { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; border-bottom-style: double; border-bottom-width: 6px; border-bottom-color: #D3D3D3; } #ldgjbnlsyi .gt_striped { background-color: rgba(128, 128, 128, 0.05); } #ldgjbnlsyi .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; } #ldgjbnlsyi .gt_footnotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #ldgjbnlsyi .gt_footnote { margin: 0px; font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #ldgjbnlsyi .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; } #ldgjbnlsyi .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; } #ldgjbnlsyi .gt_left { text-align: left; } #ldgjbnlsyi .gt_center { text-align: center; } #ldgjbnlsyi .gt_right { text-align: right; font-variant-numeric: tabular-nums; } #ldgjbnlsyi .gt_font_normal { font-weight: normal; } #ldgjbnlsyi .gt_font_bold { font-weight: bold; } #ldgjbnlsyi .gt_font_italic { font-style: italic; } #ldgjbnlsyi .gt_super { font-size: 65%; } #ldgjbnlsyi .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; } #ldgjbnlsyi .gt_asterisk { font-size: 100%; vertical-align: 0; } #ldgjbnlsyi .gt_indent_1 { text-indent: 5px; } #ldgjbnlsyi .gt_indent_2 { text-indent: 10px; } #ldgjbnlsyi .gt_indent_3 { text-indent: 15px; } #ldgjbnlsyi .gt_indent_4 { text-indent: 20px; } #ldgjbnlsyi .gt_indent_5 { text-indent: 25px; } Caractéristique Table 1 Table 2 Beta 95% IC1 p-valeur Beta 95% IC1 p-valeur sexe     Feminin — — — —     Masculin -345 -528 – -162 -314 -634 – 6,3 0,055 vitaux 18 11 – 25 4,0 -7,8 – 16 0,5 dureeopmin 0,29 -0,58 – 1,2 0,5 1,2 -0,16 – 2,5 0,084 1 IC = intervalle de confiance Une liste des fonctionnalités est disponible là : Ici "],["graphiques-et-ggplot.html", "Chapter 6 Graphiques et ggplot 6.1 Les graphiques de base 6.2 Liens", " Chapter 6 Graphiques et ggplot Les graphiques sont une composante de R qui est en partie à l’origine de son succès car on peut de très beaux et ce depuis la création de R. 6.1 Les graphiques de base Certaines sont très simples d’autres un peu plus compliquées. Nous verrons dans un premier temps les graphiques de base c’est-à-dire qui ne nécessitent pas de charger un package. 6.1.1 Pour les graphiques de chiffres Les premières fonctions présentées sont les plus usuelles comme les histogrammes. hist(patient$poids) Ce n’est pas très esthétique. Il y a des arguments aux fonctions qui permettent d’améliorer les choses. Déjà changer les noms des axes X et y, notamment se débarasser de Frequency qui est un faux ami en français. hist(patient$poids,xlab=&quot;Poids&quot;,ylab=&quot;Effectifs&quot;) Ensuite le titre : hist(patient$poids,xlab=&quot;Poids&quot;,ylab=&quot;Effectifs&quot;,main=&quot;Poids des patients&quot;) Pour la couleur, c’est un peu plus compliqué. En effet il y a simple des couleurs qui répondent à leurs mots en anglais, la liste est là. Mais les couleurs correspondent au codage web des couleurs qui sont en fait des hexadécimaux. Si vous voulez personnaliser plus les couleurs, je vous conseille le paquet RColorBrewer qui possède de jolis (et intelligents) assortiments de couleurs et de la lecture hist(patient$poids,xlab=&quot;Poids&quot;,ylab=&quot;Effectifs&quot;,main=&quot;Poids des patients&quot;,col=&quot;lightblue&quot;) Ensuite il y a les boxplots ou boîtes à moustache pour les variables continues. boxplot(patient$poids) De même on arrange un peu : boxplot(patient$poids,ylab=&quot;Poids&quot;,main=&quot;Poids des patients&quot;) Pour les boxplots on peut faire un peu mieux, par exemple pour segmenter par type de pathologies. On passe la data.frame patient et on précise le nom de la variable qualitative qui doit “séparer” les tracés. boxplot(poids ~ CIM2, data = patient,ylab=&quot;Poids&quot;,main=&quot;Poids des patients en fonction du CIM2&quot;) Le premier argument doit vous paraître un peu abstrait. En fait c’est une formule sous R. C’est l’équivalent de “patient=CIM2”. A gauche du ~ on place la variable à expliquer et à droite la ou les variables explicatives. Ici on en a une de chaque côté. Le graphique le plus simple serait le scatterplot. On aurait pu commencer par lui : Cette fois on a deux arguments qui sont la variable numérique des x en premier et la variable numérique des y en second. plot(patient$poids,patient$dureeopmin) plot(patient$poids,patient$dureeopmin,xlab=&quot;Poids&quot;,ylab=&quot;Durée opération en minutes&quot;) Qui aurait pu s’écrire : plot(dureeopmin ~ poids,data=patient,xlab=&quot;Poids&quot;,ylab=&quot;Durée opération en minutes&quot;) Si on veut tracer une ligne pour la régression linéaire, il faut faire appel à la fonction lm qui calcule la régression et R se charge du reste. coefficients &lt;- lm(dureeopmin~poids,data=patient) plot(patient$poids,patient$dureeopmin,xlab=&quot;Poids&quot;,ylab=&quot;Durée opération en minutes&quot;) abline(coefficients) On voit ici que j’ai appellé abline après le plot. En effet, il est nécessaire de faire un plot, un hist ou une boxplot avant pour que R initialise le graphique notamment le calcul des coordonnées maximales et minimales. D’ailleurs on peut les spécifier nous mêmes : coefficients &lt;- lm(dureeopmin~poids,data=patient) plot(patient$poids,patient$dureeopmin,xlab=&quot;Poids&quot;,ylab=&quot;Durée opération en minutes&quot;, xlim=c(0,150),ylim=c(0,600)) abline(coefficients) Pour sauvegarder un graphique, on doit le faire avant d’appeler la fonction principale et refermer le fichier avec la commande dev.off: La dernière fonction à connaître pour les graphiques de base est le barplot. Il s’agit de représenter des tableaux de contingence, le plus simple étant à une dimension : tableau &lt;- table(patient$sexe) barplot(tableau, main = &quot;CIM2&quot;, ylab = &quot;Effectifs&quot;) On peut lui passer un argument à deux dimensions mais la table devient tout de suite difficile à lire. tableau &lt;- table(patient$CIM2,patient$sexe) barplot(tableau, main = &quot;CIM2&quot;, ylab = &quot;Effectifs&quot;) ## le tidyverse et ggplot 6.1.2 Introduction Vous pourrez comme précédemment entendre parler des graphiques de base de même que des graphiques lattice mais le choucou du tidyverse c’est ggplot2. C’est un éco-système de packages qui permet de faire la plupart des graphiques plus simplement et qui est basé sur le paquet gplot2. Un livre gratuit lui est consacré là et une page en français là On va reprendre notre grammaire. Il faut saisir que ggplot2 fonctionne par couche. Sur une base, vous additionner des couches qui apporte la personnalisation des graphiques. 6.1.3 La base Au tout départ, il faut lui passer une data.frame, c’est le passage obligé. ggplot(patient) Ensuite on précise les variables de travail. Pour l’histogramme, on en a qu’une : ggplot(patient,aes(poids)) Vous pouvez constater, que le logiciel a calculé et positionner les légendes pour créer un graphique avec poids comme variable des abscisses (horizontal). On personnalise en demandant un graphique de type histogramme. En additionnant littéralement: ggplot(patient,aes(poids))+geom_histogram() ## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. Pour modifier les limtes du graphiques, on rajoute : ggplot(patient,aes(poids))+geom_histogram()+ scale_x_continuous(limits = c(0,150)) + scale_y_continuous(limits = c(0,20)) ## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. ## Warning: Removed 4 rows containing missing values (`geom_bar()`). Si on veut modifier le nombre de barres verticales (la précision de l’histogramme), on précise l’option dans la couche de l’histogramme : ggplot(patient,aes(poids))+geom_histogram(bins=10)+ scale_x_continuous(limits = c(0,150)) ## Warning: Removed 2 rows containing missing values (`geom_bar()`). Pour les titres, c’est pareil, on ajoute des couches : ggplot(patient,aes(poids))+geom_histogram()+ scale_x_continuous(limits = c(0,150)) + ggtitle(&quot;Poids des patients&quot;) + xlab(&quot;Poids&quot;) + ylab(&quot;Effectifs&quot;) ## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. ## Warning: Removed 2 rows containing missing values (`geom_bar()`). On peut ajouter des propriétés esthétiques comme la couleur, par exemple : ggplot(patient,aes(poids))+geom_histogram(fill =&quot;lightblue&quot;, colour = &quot;black&quot;)+ scale_x_continuous(limits = c(0,150)) + ggtitle(&quot;Poids des patients&quot;) + xlab(&quot;Poids&quot;) + ylab(&quot;Effectifs&quot;) ## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. ## Warning: Removed 2 rows containing missing values (`geom_bar()`). Là où ggplot2 sort du lot, c’est sa capacité à segmenter et à représenter avec une bonne grammaire graphique ggplot(patient,aes(poids,fill=sexe))+geom_histogram(color=&quot;black&quot;)+ scale_x_continuous(limits = c(0,150)) + ggtitle(&quot;Poids des patients&quot;) + xlab(&quot;Poids&quot;) + ylab(&quot;Effectifs&quot;) ## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. ## Warning: Removed 4 rows containing missing values (`geom_bar()`). On a l’ajout de couleurs ou alors deux graphiques avec des unités bien choisies: ggplot(patient,aes(poids,fill=sexe))+geom_histogram(color=&quot;black&quot;)+ scale_x_continuous(limits = c(0,150)) + ggtitle(&quot;Poids des patients&quot;) + xlab(&quot;Poids&quot;) + ylab(&quot;Effectifs&quot;) + facet_grid(sexe ~ .) ## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. ## Warning: Removed 4 rows containing missing values (`geom_bar()`). On a de nouveau une formule. Cette fois, c’est à gauche du ~ les lignes et à droite les colonnes : ggplot(patient,aes(poids))+geom_histogram(color=&quot;black&quot;)+ scale_x_continuous(limits = c(0,150)) + ggtitle(&quot;Poids des patients&quot;) + xlab(&quot;Poids&quot;) + ylab(&quot;Effectifs&quot;) + facet_grid(sexe ~ Hopital) ## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. ## Warning: Removed 8 rows containing missing values (`geom_bar()`). On peut vouloir calculer la densité et non les effectifs dans ce cas : ggplot(patient,aes(poids))+geom_histogram(aes(y = ..density..),color=&quot;black&quot;)+ scale_x_continuous(limits = c(0,150)) + ggtitle(&quot;Poids des patients&quot;) + xlab(&quot;Poids&quot;) + ylab(&quot;Densité&quot;) + facet_grid(sexe ~ Hopital) ## Warning: The dot-dot notation (`..density..`) was deprecated in ggplot2 3.4.0. ## ℹ Please use `after_stat(density)` instead. ## This warning is displayed once every 8 hours. ## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated. ## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. ## Warning: Removed 8 rows containing missing values (`geom_bar()`). 6.1.4 Les autres graphiques Le boxplot : ggplot(patient,aes(x=poids,fill=sexe))+geom_boxplot()+ ggtitle(&quot;Poids des patients&quot;) + xlab(&quot;Poids&quot;) + ylab(&quot;Densité&quot;) + facet_grid(Hopital ~ .) ggplot(patient,aes(x=sexe,y=poids))+geom_boxplot()+ ggtitle(&quot;Poids des patients&quot;) + xlab(&quot;Poids&quot;) + ylab(&quot;Densité&quot;) + facet_grid(Hopital ~ .) ggplot(patient,aes(poids))+geom_boxplot()+ ggtitle(&quot;Poids des patients&quot;) + xlab(&quot;Poids&quot;) + ylab(&quot;Densité&quot;) + facet_grid(sexe ~ Hopital) D’où des graphiques en scatterplot comme : ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+ ggtitle(&quot;Caractéristiques des patients&quot;) + xlab(&quot;Poids&quot;) + ylab(&quot;Durée de l&#39;opération en minutes&quot;) ou en rajoutant plein de trucs : ggplot(patient,aes(x=poids,y=dureeopmin))+geom_point(aes(col=sexe))+ ggtitle(&quot;Caractéristiques des patients&quot;) + xlab(&quot;Poids&quot;) + ylab(&quot;Durée de l&#39;opération en minutes&quot;) + facet_grid(CIM2 ~ Hopital) Pour les tableaux de fréquences, on peut faire très simple : ggplot(patient,aes(sexe))+geom_bar() ggplot(patient,aes(sexe))+geom_bar()+ facet_grid(CIM2~Hopital) Là où ggplot2 commence à devenir compliqué, c’est que geom_bar ne va pas marcher car il faut lui fournir la data.frame avec les statistiques en ligne. Soit : ## Le chargement a nécessité le package : reshape2 ## ## Attachement du package : &#39;reshape2&#39; ## L&#39;objet suivant est masqué depuis &#39;package:tidyr&#39;: ## ## smiths ## sexe CIM2 value ## 1 Feminin 1 20 ## 2 Masculin 1 30 ## 3 Feminin 2 26 ## 4 Masculin 2 24 ## 5 Feminin 3 28 ## 6 Masculin 3 22 ## 7 Feminin 4 41 ## 8 Masculin 4 9 Pour faire ce tableau, il faut faire appel au package reshape2. require(reshape2) tableau &lt;- table(patient$sexe,patient$CIM2) tableau ## ## 1 2 3 4 ## Feminin 20 26 28 41 ## Masculin 30 24 22 9 De ce tableau on passe au long en une commande : long &lt;- melt(tableau,varnames = c(&quot;sexe&quot;,&quot;CIM2&quot;),value.name = &quot;value&quot;) Il faut spécifier le nom à donner aux deux variables et spécifier le résultat du croisement des deux variables qui est le nombre d’observations c’est-à-dire le contenu de chaque cellule de tableau. ggplot(long,aes(x=sexe,y=value,fill=CIM2))+geom_bar(position = &quot;stack&quot;,stat=&quot;identity&quot;) ggplot(long,aes(x=CIM2,y=value,fill=sexe))+geom_bar(position = &quot;dodge&quot;,stat=&quot;identity&quot;) D’où le graphique : tableau &lt;- table(patient$Hopital,patient$sexe,patient$CIM2) long &lt;- melt(tableau,varnames = c(&quot;Hopital&quot;,&quot;sexe&quot;,&quot;CIM2&quot;),value.name = &quot;value&quot;) ggplot(long,aes(x=CIM2,y=value,fill=sexe))+ geom_bar(position = &quot;dodge&quot;,stat=&quot;identity&quot;)+ facet_grid(Hopital ~ . ) Pour sauvegarder un graphique ggplot2, la syntaxe est différente et surtout on l’appelle une fois que le graphique est terminé, c’est-à-dire en dernier : Et ainsi de suite… 6.2 Liens Il y a de nombreuses galleries sur le web avec toutes les possiblités offertes par les graphiques de base comme les graphiques avec ggplot2. r-graph-gallery r-chart … On peut en parcourir ensemble… tableau &lt;- dcast(patient, UID + sexe ~ Hopital, value.var = &quot;nbechelle&quot;) tableau$poids &lt;- ifelse(!is.na(tableau$A),tableau$A,tableau$B) ggplot(tableau, aes(x=nbechelle) ) + geom_density( aes(x = A, y = ..density..), fill=&quot;#69b3a2&quot; ) + geom_label(aes(x=90, y=0.01, label=&quot;Hopital A&quot;), color=&quot;#69b3a2&quot;) + geom_density( aes(x = B, y = -..density..), fill= &quot;#404080&quot;) + geom_label(aes(x=90,y=-0.01, label=&quot;Hopital B&quot;), color=&quot;#404080&quot;) ## Warning: Removed 100 rows containing non-finite values (`stat_density()`). ## Removed 100 rows containing non-finite values (`stat_density()`). "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
